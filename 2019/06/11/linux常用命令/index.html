<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">


  <script>
  (function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
  daovoice('init', {
      app_id: "8f2a50d5"
    });
  daovoice('update');
  </script>









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">




  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">






  <meta name="keywords" content="Linux,">





  <link rel="alternate" href="/atom.xml" title="小土豆" type="application/atom+xml">






<meta name="description" content="1. 文件管理ls命令 – 显示指定工作目录下的内容及属性信息ls 命令是Linux下最常用的指令之一。ls命令为英文单词 list 的缩写，正如英文单词 list 的意思，其功能是列出指定目录下的内容及其相关属性信息。 默认状态下，ls命令会列出当前目录的内容。而带上参数后，我们可以用ls做更多的事情。作为最基础同时又是使用频率很高的命令，我们很有必要搞清楚ls命令的用法，那么接下来一起看看吧！">
<meta name="keywords" content="Linux">
<meta property="og:type" content="article">
<meta property="og:title" content="linux常用命令">
<meta property="og:url" content="https://smallpotatody.github.io/2019/06/11/linux常用命令/index.html">
<meta property="og:site_name" content="小土豆">
<meta property="og:description" content="1. 文件管理ls命令 – 显示指定工作目录下的内容及属性信息ls 命令是Linux下最常用的指令之一。ls命令为英文单词 list 的缩写，正如英文单词 list 的意思，其功能是列出指定目录下的内容及其相关属性信息。 默认状态下，ls命令会列出当前目录的内容。而带上参数后，我们可以用ls做更多的事情。作为最基础同时又是使用频率很高的命令，我们很有必要搞清楚ls命令的用法，那么接下来一起看看吧！">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-06-11T13:28:04.793Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="linux常用命令">
<meta name="twitter:description" content="1. 文件管理ls命令 – 显示指定工作目录下的内容及属性信息ls 命令是Linux下最常用的指令之一。ls命令为英文单词 list 的缩写，正如英文单词 list 的意思，其功能是列出指定目录下的内容及其相关属性信息。 默认状态下，ls命令会列出当前目录的内容。而带上参数后，我们可以用ls做更多的事情。作为最基础同时又是使用频率很高的命令，我们很有必要搞清楚ls命令的用法，那么接下来一起看看吧！">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://smallpotatody.github.io/2019/06/11/linux常用命令/">





  <title>linux常用命令 | 小土豆</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
  <a href="https://github.com/smallpotatody" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#FD6C6C; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">小土豆</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">-博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://smallpotatody.github.io/2019/06/11/linux常用命令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="smallpotato">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/4.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小土豆">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">linux常用命令</h1>
        

        <div class="post-meta">
			

          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于&#58;</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-11T20:19:51+08:00">
                2019-06-11
              </time>
            

            

            
          </span>
		  
		  

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
                               
                <span class="post-meta-item-text">分类于&#58;</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv">本文总阅读量
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>次
            </span>
          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  12.9k字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  50分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="1-文件管理"><a href="#1-文件管理" class="headerlink" title="1. 文件管理"></a>1. 文件管理</h1><h2 id="ls命令-–-显示指定工作目录下的内容及属性信息"><a href="#ls命令-–-显示指定工作目录下的内容及属性信息" class="headerlink" title="ls命令 – 显示指定工作目录下的内容及属性信息"></a>ls命令 – 显示指定工作目录下的内容及属性信息</h2><p>ls 命令是Linux下最常用的指令之一。ls命令为英文单词 list 的缩写，正如英文单词 list 的意思，其功能是列出指定目录下的内容及其相关属性信息。</p>
<p>默认状态下，ls命令会列出当前目录的内容。而带上参数后，我们可以用ls做更多的事情。作为最基础同时又是使用频率很高的命令，我们很有必要搞清楚ls命令的用法，那么接下来一起看看吧！</p>
<p><strong>语法格式:</strong> ls [选项] [文件]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-a</th>
<th>显示所有文件及目录 (包括以“.”开头的隐藏文件)</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l</td>
<td>使用长格式列出文件及目录信息</td>
</tr>
<tr>
<td>-r</td>
<td>将文件以相反次序显示(默认依英文字母次序)</td>
</tr>
<tr>
<td>-t</td>
<td>根据最后的修改时间排序</td>
</tr>
<tr>
<td>-A</td>
<td>同 -a ，但不列出 “.” (当前目录) 及 “..” (父目录)</td>
</tr>
<tr>
<td>-S</td>
<td>根据文件大小排序</td>
</tr>
<tr>
<td>-R</td>
<td>递归列出所有子目录</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>列出所有文件(包括隐藏文件)：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -a</span><br></pre></td></tr></table></figure>
<p>列出文件的详细信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l</span><br></pre></td></tr></table></figure>
<p>列出根目录(/)下的所有目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /</span><br></pre></td></tr></table></figure>
<p>列出当前工作目录下所有名称是 “s” 开头的文件 :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -ltr s*</span><br></pre></td></tr></table></figure>
<p>列出 /bin 目录下的所有目录及文件的详细信息 :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -lR /bin</span><br></pre></td></tr></table></figure>
<p>列出当前工作目录下所有文件及目录并以文件的大小进行排序 :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -AS</span><br></pre></td></tr></table></figure>
<h2 id="pwd命令-–-显示当前路径"><a href="#pwd命令-–-显示当前路径" class="headerlink" title="pwd命令 – 显示当前路径"></a>pwd命令 – 显示当前路径</h2><p>pwd命令是“print working directory”中每个单词的首字母缩写，其功能正如所示单词一样，为打印工作目录，即显示当前工作目录的绝对路径。</p>
<p>在实际工作中，我们经常会在不同目录之间进行切换，为了防止“迷路”，我们可以使用pwd命令快速查看当前我们所在的目录路径。</p>
<p><strong>语法格式:</strong> pwd [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-L</th>
<th>显示逻辑路径</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>查看当前工作目录路径：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br><span class="line">/home/linuxcool</span><br></pre></td></tr></table></figure>
<h2 id="mkdir命令-–-创建目录"><a href="#mkdir命令-–-创建目录" class="headerlink" title="mkdir命令 – 创建目录"></a>mkdir命令 – 创建目录</h2><p>mkdir命令是“make directories”的缩写，用来创建目录。</p>
<p>注意：默认状态下，如果要创建的目录已经存在，则提示已存在，而不会继续创建目录。 所以在创建目录时，应保证新建的目录与它所在目录下的文件没有重名。 mkdir命令还可以同时创建多个目录，是不是很强大呢？</p>
<p><strong>语法格式 :</strong> mkdir [参数] [目录]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-p</th>
<th>递归创建多级目录</th>
</tr>
</thead>
<tbody>
<tr>
<td>-m</td>
<td>建立目录的同时设置目录的权限</td>
</tr>
<tr>
<td>-z</td>
<td>设置安全上下文</td>
</tr>
<tr>
<td>-v</td>
<td>显示目录的创建过程</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>在工作目录下，建立一个名为 dir 的子目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir dir</span><br></pre></td></tr></table></figure>
<p>在目录/usr/linuxcool下建立子目录dir，并且设置文件属主有读、写和执行权限，其他人无权访问</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -m 700 /usr/linuxcool/dir</span><br></pre></td></tr></table></figure>
<p>同时创建子目录dir1，dir2，dir3：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir dir1 dir2 dir3</span><br></pre></td></tr></table></figure>
<p>递归创建目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p linuxcool/dir</span><br></pre></td></tr></table></figure>
<h2 id="cp命令-–-复制文件或目录"><a href="#cp命令-–-复制文件或目录" class="headerlink" title="cp命令 – 复制文件或目录"></a>cp命令 – 复制文件或目录</h2><p>cp命令可以理解为英文单词copy的缩写，其功能为复制文件或目录。</p>
<p>cp命令可以将多个文件复制到一个具体的文件名或一个已经存在的目录下，也可以同时复制多个文件到一个指定的目录中。</p>
<p><strong>语法格式：</strong>cp [参数] [文件]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-f</th>
<th>若目标文件已存在，则会直接覆盖原文件</th>
</tr>
</thead>
<tbody>
<tr>
<td>-i</td>
<td>若目标文件已存在，则会询问是否覆盖</td>
</tr>
<tr>
<td>-p</td>
<td>保留源文件或目录的所有属性</td>
</tr>
<tr>
<td>-r</td>
<td>递归复制文件和目录</td>
</tr>
<tr>
<td>-d</td>
<td>当复制符号连接时，把目标文件或目录也建立为符号连接，并指向与源文件或目录连接的原始文件或目录</td>
</tr>
<tr>
<td>-l</td>
<td>对源文件建立硬连接，而非复制文件</td>
</tr>
<tr>
<td>-s</td>
<td>对源文件建立符号连接，而非复制文件</td>
</tr>
<tr>
<td>-b</td>
<td>覆盖已存在的文件目标前将目标文件备份</td>
</tr>
<tr>
<td>-v</td>
<td>详细显示cp命令执行的操作过程</td>
</tr>
<tr>
<td>-a</td>
<td>等价于“dpr”选项</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>复制目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -R dir1 dir2/</span><br></pre></td></tr></table></figure>
<p>将文件test1改名为test2：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -f test1 test2</span><br></pre></td></tr></table></figure>
<p>复制多个文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r file1 file2 file3 dir</span><br></pre></td></tr></table></figure>
<p>交互式地将目录 /usr/linuxcool 中的所有.c文件复制到目录 dir 中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r /usr/linuxcool/*.c dir</span><br></pre></td></tr></table></figure>
<h2 id="mv命令-–-移动或改名文件"><a href="#mv命令-–-移动或改名文件" class="headerlink" title="mv命令 – 移动或改名文件"></a>mv命令 – 移动或改名文件</h2><p>mv命令是“move”单词的缩写，其功能大致和英文含义一样，可以移动文件或对其改名。</p>
<p>这是一个使用频率超高的文件管理命令，我们需要特别留意它与复制的区别：mv与cp的结果不同。mv命令好像文件“搬家”，文件名称发生改变，但个数并未增加。而cp命令是对文件进行复制操作，文件个数是有增加的。</p>
<p><strong>语法格式：</strong>mv [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-i</th>
<th>若存在同名文件，则向用户询问是否覆盖</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f</td>
<td>覆盖已有文件时，不进行任何提示</td>
</tr>
<tr>
<td>-b</td>
<td>当文件存在时，覆盖前为其创建一个备份</td>
</tr>
<tr>
<td>-u</td>
<td>当源文件比目标文件新，或者目标文件不存在时，才执行移动此操作</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>将文件file_1重命名为file_2：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv file_1 file_2</span><br></pre></td></tr></table></figure>
<p>将文件file移动到目录dir中 ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv file /dir</span><br></pre></td></tr></table></figure>
<p>将目录dir1移动目录dir2中（前提是目录dir2已存在，若不存在则改名)：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv /dir1 /dir2</span><br></pre></td></tr></table></figure>
<p>将目录dir1下的文件移动到当前目录下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv /dir1/* .</span><br></pre></td></tr></table></figure>
<h1 id="2-文档编辑"><a href="#2-文档编辑" class="headerlink" title="2. 文档编辑"></a>2. 文档编辑</h1><h2 id="cat命令-–-在终端设备上显示文件内容"><a href="#cat命令-–-在终端设备上显示文件内容" class="headerlink" title="cat命令 – 在终端设备上显示文件内容"></a>cat命令 – 在终端设备上显示文件内容</h2><p>Linux系统中有很多个用于查看文件内容的命令，每个命令又都有自己的特点，比如这个cat命令就是用于查看内容较少的纯文本文件的。cat这个命令也很好记，因为cat在英语中是“猫”的意思，小猫咪是不是给您一种娇小、可爱的感觉呢？</p>
<p>注意：当文件内容较大时，文本内容会在屏幕上快速闪动（滚屏），用户往往看不清所显示的具体内容。因此对于较长文件内容可以按Ctrl+S键，停止滚屏；以及Ctrl+Q键可以恢复滚屏；而按Ctrl+C（中断）键则可以终止该命令的执行。或者对于大文件，干脆用more命令吧！</p>
<p><strong>语法格式：</strong>cat [参数] [文件]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-n</th>
<th>显示行数（空行也编号）</th>
</tr>
</thead>
<tbody>
<tr>
<td>-s</td>
<td>显示行数（多个空行算一个编号）</td>
</tr>
<tr>
<td>-b</td>
<td>显示行数（空行不编号）</td>
</tr>
<tr>
<td>-E</td>
<td>每行结束处显示$符号</td>
</tr>
<tr>
<td>-T</td>
<td>将TAB字符显示为 ^I符号</td>
</tr>
<tr>
<td>-v</td>
<td>使用 ^ 和 M- 引用，除了 LFD 和 TAB 之外</td>
</tr>
<tr>
<td>-e</td>
<td>等价于”-vE”组合</td>
</tr>
<tr>
<td>-t</td>
<td>等价于”-vT”组合</td>
</tr>
<tr>
<td>-A</td>
<td>等价于 -vET组合</td>
</tr>
<tr>
<td>–help</td>
<td>显示帮助信息</td>
</tr>
<tr>
<td>–version</td>
<td>显示版本信息</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>查看文件的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat filename.txt</span><br></pre></td></tr></table></figure>
<p>查看文件的内容，并显示行数编号：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat -n filename.txt</span><br></pre></td></tr></table></figure>
<p>查看文件的内容，并添加行数编号后输出到另外一个文件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat -n linuxcool.log &gt; linuxprobe.log</span><br></pre></td></tr></table></figure>
<p>清空文件的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /dev/null &gt; /root/filename.txt</span><br></pre></td></tr></table></figure>
<p>持续写入文件内容，碰到EOF符后结束并保存：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; filename.txt &lt;&lt;EOF</span><br><span class="line">&gt; Hello, World </span><br><span class="line">&gt; Linux!</span><br><span class="line">&gt; EOF</span><br></pre></td></tr></table></figure>
<p>将软盘设备制作成镜像文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /dev/fd0 &gt; fdisk.iso</span><br></pre></td></tr></table></figure>
<h2 id="echo命令-–-输出字符串或提取Shell变量的值"><a href="#echo命令-–-输出字符串或提取Shell变量的值" class="headerlink" title="echo命令 – 输出字符串或提取Shell变量的值"></a>echo命令 – 输出字符串或提取Shell变量的值</h2><p>echo命令用于在终端设备上输出字符串或变量提取后的值，这是在Linux系统中最常用的几个命令之一，但操作却非常简单。</p>
<p>人们一般使用在变量前加上$符号的方式提取出变量的值，例如：$PATH，然后再用echo命令予以输出。或者直接使用echo命令输出一段字符串到屏幕上，起到给用户提示的作用。</p>
<p><strong>语法格式：</strong>echo [参数] [字符串]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-n</th>
<th>不输出结尾的换行符</th>
</tr>
</thead>
<tbody>
<tr>
<td>-e “\a”</td>
<td>发出警告音</td>
</tr>
<tr>
<td>-e “\b”</td>
<td>删除前面的一个字符</td>
</tr>
<tr>
<td>-e “\c”</td>
<td>结尾不加换行符</td>
</tr>
<tr>
<td>-e “\f”</td>
<td>换行，光标扔停留在原来的坐标位置</td>
</tr>
<tr>
<td>-e “\n”</td>
<td>换行，光标移至行首</td>
</tr>
<tr>
<td>-e “\r”</td>
<td>光标移至行首，但不换行</td>
</tr>
<tr>
<td>-E</td>
<td>禁止反斜杠转移，与-e参数功能相反</td>
</tr>
<tr>
<td>—version</td>
<td>查看版本信息</td>
</tr>
<tr>
<td>–help</td>
<td>查看帮助信息</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>输出一段字符串：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;LinuxCool.com&quot; </span><br><span class="line">LinuxCool.com</span><br></pre></td></tr></table></figure>
<p>输出变量提取后的值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo $PATH</span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br></pre></td></tr></table></figure>
<p>对内容进行转义，不让$符号的提取变量值功能生效：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo \$PATH</span><br><span class="line">$PATH</span><br></pre></td></tr></table></figure>
<p>结合输出重定向符，将字符串信息导入文件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;It is a test&quot; &gt; linuxcool</span><br></pre></td></tr></table></figure>
<p>使用反引号符执行命令，并输出其结果到终端：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo `date`</span><br></pre></td></tr></table></figure>
<p>输出带有换行符的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;a\nb\nc&quot;</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br></pre></td></tr></table></figure>
<p>输出信息中删除某个字符，注意看数字3消失了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;123\b456&quot; </span><br><span class="line">12456</span><br></pre></td></tr></table></figure>
<h2 id="rmdir命令-–-删除空目录"><a href="#rmdir命令-–-删除空目录" class="headerlink" title="rmdir命令 – 删除空目录"></a>rmdir命令 – 删除空目录</h2><p>rmdir命令作用是删除空的目录，英文全称：“remove directory”。</p>
<p>注意：rmdir命令只能删除空目录。当要删除非空目录时，就要使用带有“-R”选项的rm命令。</p>
<p>rmdir命令的“-p”参数可以递归删除指定的多级目录，但是要求每个目录也必须是空目录。</p>
<p><strong>语法格式 :</strong>  rmdir [参数] [目录名称]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-p</th>
<th>用递归的方式删除指定的目录路径中的所有父级目录，非空则报错</th>
</tr>
</thead>
<tbody>
<tr>
<td>– – ignore-fail-on-non-empty</td>
<td>忽略由于删除非空目录时导致命令出错而产生的错误信息</td>
</tr>
<tr>
<td>-v</td>
<td>显示命令的详细执行过程</td>
</tr>
<tr>
<td>– – help</td>
<td>显示命令的帮助信息</td>
</tr>
<tr>
<td>– – version</td>
<td>显示命令的版本信息</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>删除空目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir dir</span><br></pre></td></tr></table></figure>
<p>递归删除指定的目录树：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir -p dir/dir_1/dir_2</span><br></pre></td></tr></table></figure>
<p>显示指令详细执行过程：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rmdir -v dir</span><br><span class="line">rmdir: 正在删除目录 &apos;dir&apos;</span><br><span class="line">rmdir -p -v dir/dir_1/dir_2</span><br><span class="line">rmdir: 正在删除目录 &apos;dir/dir_1/dir_2</span><br><span class="line">rmdir: 正在删除目录 &apos;dir/dir_1&apos;</span><br><span class="line">rmdir: 正在删除目录 &apos;dir_2&apos;</span><br></pre></td></tr></table></figure>
<p>显示命令的版本信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rmdir --version</span><br><span class="line">rmdir (GNU coreutils) 8.30</span><br><span class="line">Copyright (C) 2018 Free Software Foundation, Inc.</span><br><span class="line">许可证 GPLv3+：GNU 通用公共许可证第 3 版或更新版本https://gnu.org/licenses/gpl.html。</span><br><span class="line">本软件是自由软件：您可以自由修改和重新发布它。</span><br><span class="line">在法律范围内没有其他保证。</span><br></pre></td></tr></table></figure>
<h2 id="tail命令-–-查看文件尾部内容"><a href="#tail命令-–-查看文件尾部内容" class="headerlink" title="tail命令 – 查看文件尾部内容"></a>tail命令 – 查看文件尾部内容</h2><p>tail用于显示文件尾部的内容，默认在屏幕上显示指定文件的末尾10行。如果给定的文件不止一个，则在显示的每个文件前面加一个文件名标题。如果没有指定文件或者文件名为“-”，则读取标准输入。</p>
<p><strong>语法格式：</strong>tail [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>–retry</th>
<th>即是在tail命令启动时，文件不可访问或者文件稍后变得不可访问，都始终尝试打开文件。使用此选项时需要与选项“——follow=name”连用</th>
</tr>
</thead>
<tbody>
<tr>
<td>-c<n>或——bytes=<n></n></n></td>
<td>输出文件尾部的N（N为整数）个字节内容</td>
</tr>
<tr>
<td>-f&lt;name/descriptor&gt;</td>
<td>–follow<nameldescript>：显示文件最新追加的内容</nameldescript></td>
</tr>
<tr>
<td>-F</td>
<td>与选项“-follow=name”和“–retry”连用时功能相同</td>
</tr>
<tr>
<td>-n<n>或——line=<n></n></n></td>
<td>输出文件的尾部N（N位数字）行内容</td>
</tr>
<tr>
<td>–pid=&lt;进程号&gt;</td>
<td>与“-f”选项连用，当指定的进程号的进程终止后，自动退出tail命令</td>
</tr>
<tr>
<td>–help</td>
<td>显示指令的帮助信息</td>
</tr>
<tr>
<td>–version</td>
<td>显示指令的版本信息</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>显示文件file的最后10行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail file</span><br></pre></td></tr></table></figure>
<p>显示文件file的内容，从第20行至文件末尾：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail +20 file</span><br></pre></td></tr></table></figure>
<p>显示文件file的最后10个字符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -c 10 file</span><br></pre></td></tr></table></figure>
<p>一直变化的文件总是显示后10行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -f 10 file</span><br></pre></td></tr></table></figure>
<p>显示帮助信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail --help</span><br></pre></td></tr></table></figure>
<h2 id="expr命令-–-命令行计数器"><a href="#expr命令-–-命令行计数器" class="headerlink" title="expr命令 – 命令行计数器"></a>expr命令 – 命令行计数器</h2><p>expr命令的英文全称是“expression”，即是表达式的意思，作用是一个命令行的计数器，常用于在UNIX/LINUX系统中求表达式变量的值，一般用于整数值，也可用于字符串。</p>
<p><strong>语法格式：</strong>expr [表达式]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>空格</th>
<th>隔开每个项</th>
</tr>
</thead>
<tbody>
<tr>
<td>\（反斜杠）</td>
<td>放在 shell 特定的字符前面</td>
</tr>
<tr>
<td>“”(引号)</td>
<td>对包含空格和其他特殊字符的字符串要用引号括起来</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>计算字串长度：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expr length “this is a test”  </span><br><span class="line">14</span><br></pre></td></tr></table></figure>
<p>抓取字串：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expr substr “this is a test” 3 5 </span><br><span class="line">is is</span><br></pre></td></tr></table></figure>
<p>抓取第一个字符数字串出现的位置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expr index &quot;sarasara&quot; a </span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<p>整数运算：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">expr 14 % 9</span><br><span class="line">5  </span><br><span class="line">expr 10 + 10</span><br><span class="line">20</span><br><span class="line">expr 1000 + 900</span><br><span class="line">1900</span><br><span class="line">expr 30 / 3 / 2</span><br><span class="line">5</span><br><span class="line">expr 30 * 3  </span><br><span class="line">expr: Syntax error  </span><br><span class="line">expr 30 \* 3 </span><br><span class="line">90</span><br></pre></td></tr></table></figure>
<p>注意：使用乘号时，必须用反斜线屏蔽其特定含义。因为shell可能会误解显示星号的意义</p>
<p>使用expr进行四则运算：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expr \( 10 + 10 \) \* 2 + 100 </span><br><span class="line">140</span><br></pre></td></tr></table></figure>
<h1 id="3-系统管理"><a href="#3-系统管理" class="headerlink" title="3. 系统管理"></a>3. 系统管理</h1><h2 id="uname命令-–-显示系统信息"><a href="#uname命令-–-显示系统信息" class="headerlink" title="uname命令 – 显示系统信息"></a>uname命令 – 显示系统信息</h2><p>uname命令的英文全称即“Unix name”。</p>
<p>用于显示系统相关信息，比如主机名、内核版本号、硬件架构等。</p>
<p>如果未指定任何选项，其效果相当于执行”uname -s”命令，即显示系统内核的名字。</p>
<p><strong>语法格式：</strong>uname [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-a</th>
<th>显示系统所有相关信息</th>
</tr>
</thead>
<tbody>
<tr>
<td>-m</td>
<td>显示计算机硬件架构</td>
</tr>
<tr>
<td>-n</td>
<td>显示主机名称</td>
</tr>
<tr>
<td>-r</td>
<td>显示内核发行版本号</td>
</tr>
<tr>
<td>-s</td>
<td>显示内核名称</td>
</tr>
<tr>
<td>-v</td>
<td>显示内核版本</td>
</tr>
<tr>
<td>-p</td>
<td>显示主机处理器类型</td>
</tr>
<tr>
<td>-o</td>
<td>显示操作系统名称</td>
</tr>
<tr>
<td>-i</td>
<td>显示硬件平台</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>显示系统主机名、内核版本号、CPU类型等信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uname -a</span><br><span class="line">Linux linuxcool 3.10.0-123.el7.x86_64 #1 SMP Mon May 5 11:16:57 EDT 2014 x86_64 x86_64 x86_64 GNU/Linux</span><br></pre></td></tr></table></figure>
<p>仅显示系统主机名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uname -n</span><br><span class="line">linuxcool</span><br></pre></td></tr></table></figure>
<p>显示当前系统的内核版本 :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uname -r</span><br><span class="line">3.10.0-123.el7.x86_64</span><br></pre></td></tr></table></figure>
<p>显示当前系统的硬件架构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uname -i</span><br><span class="line">x86_64</span><br></pre></td></tr></table></figure>
<h2 id="rsh命令-–-远端登入的shell"><a href="#rsh命令-–-远端登入的shell" class="headerlink" title="rsh命令 – 远端登入的shell"></a>rsh命令 – 远端登入的shell</h2><p>rsh命令的英文全称为“remote shell”，该命令提供的用户环境，也就是shell，以便指令能够在指定的远端主机上执行。</p>
<p><strong>语法格式：</strong> rsh [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-d</th>
<th>使用Socket层级的排错功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l</td>
<td>指定要登入远端主机的用户名称</td>
</tr>
<tr>
<td>-n</td>
<td>把输入的指令号向代号为/dev/null的特殊外围设备</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>远程命令执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsh -l linuxcool 192.168.1.88 /bin/ls</span><br></pre></td></tr></table></figure>
<h2 id="yes命令-–-重复打印字符串"><a href="#yes命令-–-重复打印字符串" class="headerlink" title="yes命令 – 重复打印字符串"></a>yes命令 – 重复打印字符串</h2><p>yes命令的作用是中输出指定的字符串，直到yes进程被杀死。不带任何参数输的yes命令默认的字符串就是y。 终止yes命令可以使用组合键ctrl+c</p>
<p>yes命令通常在脚本中使用，在脚本中可以对对命令和程序的确认提示和问题进行管道输出并回答提问(例如：你确认要删除这个文件吗，按’y’ or ‘n’)。</p>
<p><strong>语法格式:</strong> yes [字符串]</p>
<table>
<thead>
<tr>
<th>– -help</th>
<th>显示帮助信息</th>
</tr>
</thead>
<tbody>
<tr>
<td>– -version</td>
<td>显示命令版本信息</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>重复打印一段字符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yes linuxcool</span><br><span class="line">linuxcool</span><br><span class="line">linuxcool</span><br><span class="line">linuxcool</span><br><span class="line">linuxcool</span><br><span class="line">linuxcool</span><br><span class="line">linuxcool</span><br><span class="line">linuxcool</span><br><span class="line">linuxcool</span><br><span class="line">...</span><br><span class="line">^C //使用ctrl+c强制停止</span><br></pre></td></tr></table></figure>
<h2 id="useradd命令-–-创建用户"><a href="#useradd命令-–-创建用户" class="headerlink" title="useradd命令 – 创建用户"></a>useradd命令 – 创建用户</h2><p>useradd命令用来创建新的用户或更改用户的信息。</p>
<p>useradd可用来建立用户帐号。帐号建好之后，再用passwd设定帐号的密码。使用useradd指令所建立的帐号，实际上是保存在/etc/passwd文本文件中。</p>
<p><strong>语法格式：</strong>useradd [参数] [用户名]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-D</th>
<th>改变新建用户的预设值</th>
</tr>
</thead>
<tbody>
<tr>
<td>-c</td>
<td>添加备注文字</td>
</tr>
<tr>
<td>-d</td>
<td>新用户每次登陆时所使用的家目录</td>
</tr>
<tr>
<td>-e</td>
<td>用户终止日期，日期的格式为YYYY-MM-DD</td>
</tr>
<tr>
<td>-f</td>
<td>用户过期几日后永久停权。当值为0时用户立即被停权，而值为-1时则关闭此功能，预设值为-1</td>
</tr>
<tr>
<td>-g</td>
<td>指定用户对应的用户组</td>
</tr>
<tr>
<td>-G</td>
<td>定义此用户为多个不同组的成员</td>
</tr>
<tr>
<td>-m</td>
<td>用户目录不存在时则自动创建</td>
</tr>
<tr>
<td>-M</td>
<td>不建立用户家目录，优先于/etc/login.defs文件设定</td>
</tr>
<tr>
<td>-n</td>
<td>取消建立以用户名称为名的群组</td>
</tr>
<tr>
<td>-r</td>
<td>建立系统帐号</td>
</tr>
<tr>
<td>-u</td>
<td>指定用户id</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>添加新用户linuxcool：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd linuxcool</span><br></pre></td></tr></table></figure>
<p>不创建家目录，并且禁止登陆：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd -M -s /sbin/nologin linuxcool</span><br></pre></td></tr></table></figure>
<p>添加新用户linuxcool，指定UID为888，指定归属用户组为root，cool成员，其shell类型为/bin/sh：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd -u 888 -s /bin/sh -G root,cool linuxcool</span><br></pre></td></tr></table></figure>
<p>添加新用户linuxcool，设置家目录为/tmp/linuxcool，用户过期时间为2019/05/01.过期后两天停权：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd -e &quot;2019/05/01&quot; -f 2 -d /tmp/linuxcool linuxcool</span><br></pre></td></tr></table></figure>
<h2 id="who命令-–-打印当前登录用户"><a href="#who命令-–-打印当前登录用户" class="headerlink" title="who命令 – 打印当前登录用户"></a>who命令 – 打印当前登录用户</h2><p>who命令用来打印当前登录用户信息，包含了系统的启动时间 、 活动进程 、 使用者 ID、使用终端等信息，是系统管理员了解系统运行状态的常用命令。</p>
<p>who命令的输出信息默认来自文件“/var/log/utmp”和“/var/log/wtmp”。</p>
<p><strong>语法格式：</strong> who [参数] [选项]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-a</th>
<th>打印全面信息</th>
</tr>
</thead>
<tbody>
<tr>
<td>-b</td>
<td>打印系统最近启动时间</td>
</tr>
<tr>
<td>-d</td>
<td>打印死掉的进程</td>
</tr>
<tr>
<td>-l</td>
<td>打印系统登录进程</td>
</tr>
<tr>
<td>-H</td>
<td>带有列标题打印用户名，登录终端和登录时间</td>
</tr>
<tr>
<td>-t</td>
<td>打印系统上次锁定时间</td>
</tr>
<tr>
<td>-u</td>
<td>打印已登录用户列表</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>打印用户登录信息（-H 带有列标题打印）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">who -H</span><br><span class="line">名称     线路          时间              备注</span><br><span class="line">root     pts/0        2019-04-10 12:31 (192.168.12.34)</span><br></pre></td></tr></table></figure>
<p>打印全部信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">who -H -a</span><br><span class="line">名称     线路       时间           空闲  进程号 备注   退出</span><br><span class="line">系统引导 2019-04-03 15:01</span><br><span class="line">运行级别 3 2019-04-03 15:02</span><br><span class="line">登录     tty1      2019-04-03 15:02           852 id=tty1</span><br><span class="line">                   2019-04-03 15:31          1022 id=102   </span><br><span class="line">终端=0 退出=0</span><br><span class="line">root     + pts/0   2019-04-10 12:27   .  2789 (192.168.12.34)</span><br></pre></td></tr></table></figure>
<p>打印系统最近启动时间 ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">who -b</span><br><span class="line">系统引导 2019-04-03 15:01</span><br></pre></td></tr></table></figure>
<p>打印系统登录进程：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">who -l</span><br><span class="line">登录   tty1         2019-04-03 15:02               852 id=tty1</span><br></pre></td></tr></table></figure>
<h1 id="4-磁盘管理"><a href="#4-磁盘管理" class="headerlink" title="4. 磁盘管理"></a>4. 磁盘管理</h1><h2 id="df命令-–-显示磁盘空间使用情况"><a href="#df命令-–-显示磁盘空间使用情况" class="headerlink" title="df命令 – 显示磁盘空间使用情况"></a>df命令 – 显示磁盘空间使用情况</h2><p>df命令的英文全称即“Disk Free”，顾名思义功能是用于显示系统上可使用的磁盘空间。默认显示单位为KB，建议使用“df -h”的参数组合，根据磁盘容量自动变换合适的单位，更利于阅读。</p>
<p>日常普遍用该命令可以查看磁盘被占用了多少空间、还剩多少空间等信息。</p>
<p><strong>语法格式：</strong> df [参数] [指定文件]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-a</th>
<th>显示所有系统文件</th>
</tr>
</thead>
<tbody>
<tr>
<td>-B &lt;块大小&gt;</td>
<td>指定显示时的块大小</td>
</tr>
<tr>
<td>-h</td>
<td>以容易阅读的方式显示</td>
</tr>
<tr>
<td>-H</td>
<td>以1000字节为换算单位来显示</td>
</tr>
<tr>
<td>-i</td>
<td>显示索引字节信息</td>
</tr>
<tr>
<td>-k</td>
<td>指定块大小为1KB</td>
</tr>
<tr>
<td>-l</td>
<td>只显示本地文件系统</td>
</tr>
<tr>
<td>-t &lt;文件系统类型&gt;</td>
<td>只显示指定类型的文件系统</td>
</tr>
<tr>
<td>-T</td>
<td>输出时显示文件系统类型</td>
</tr>
<tr>
<td>– -sync</td>
<td>在取得磁盘使用信息前，先执行sync命令</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>显示磁盘分区使用情况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">df</span><br><span class="line">文件系统                             1K-块    已用     可用   已用% 挂载点</span><br><span class="line">devtmpfs                           1980612       0  1980612    0% /dev</span><br><span class="line">tmpfs                              1994756       0  1994756    0% /dev/shm</span><br><span class="line">tmpfs                              1994756    1040  1993716    1% /run</span><br><span class="line">tmpfs                              1994756       0  1994756    0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/fedora_linuxhell-root 15718400 2040836 13677564   13% /</span><br><span class="line">tmpfs                              1994756       4  1994752    1% /tmp</span><br><span class="line">/dev/sda1                           999320  128264   802244   14% /boot</span><br><span class="line">tmpfs                               398948       0   398948   0% /run/user/0</span><br></pre></td></tr></table></figure>
<p>以容易阅读的方式显示磁盘分区使用情况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">df -h</span><br><span class="line"> 文件系统                           容量   已用   可用  已用% 挂载点</span><br><span class="line"> devtmpfs                           1.9G     0  1.9G    0% /dev</span><br><span class="line"> tmpfs                              2.0G     0  2.0G    0% /dev/shm</span><br><span class="line"> tmpfs                              2.0G  1.1M  2.0G    1% /run</span><br><span class="line"> tmpfs                              2.0G     0  2.0G    0% /sys/fs/cgroup</span><br><span class="line"> /dev/mapper/fedora_linuxhell-root   15G  2.0G   14G   13% /</span><br><span class="line"> tmpfs                              2.0G  4.0K  2.0G    1% /tmp</span><br><span class="line"> /dev/sda1                          976M  126M  784M   14% /boot</span><br><span class="line"> tmpfs                              390M     0  390M    0% /run/user/0</span><br></pre></td></tr></table></figure>
<p>显示指定文件所在分区的磁盘使用情况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df /etc/dhcp</span><br><span class="line">文件系统                             1K-块    已用     可用   已用% 挂载点</span><br><span class="line">/dev/mapper/fedora_linuxcool-root 15718400 2040836 13677564   13% /</span><br></pre></td></tr></table></figure>
<p>显示文件类型为ext4的磁盘使用情况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df -t ext4</span><br><span class="line">文件系统        1K-块   已用   可用    已用% 挂载点</span><br><span class="line">/dev/sda1      999320 128264 802244   14% /boot</span><br></pre></td></tr></table></figure>
<h2 id="lsblk命令-–-查看系统的磁盘"><a href="#lsblk命令-–-查看系统的磁盘" class="headerlink" title="lsblk命令 – 查看系统的磁盘"></a>lsblk命令 – 查看系统的磁盘</h2><p>lsblk命令的英文是“list block”，即用于列出所有可用块设备的信息，而且还能显示他们之间的依赖关系，但是它不会列出RAM盘的信息。</p>
<p>lsblk命令包含在util-linux-ng包中，现在该包改名为util-linux。</p>
<p><strong>语法格式：</strong>lsblk [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-a</th>
<th>显示所有设备</th>
</tr>
</thead>
<tbody>
<tr>
<td>-b</td>
<td>以bytes方式显示设备大小</td>
</tr>
<tr>
<td>-d</td>
<td>不显示 slaves 或 holders</td>
</tr>
<tr>
<td>-D</td>
<td>print discard capabilities</td>
</tr>
<tr>
<td>-e</td>
<td>排除设备</td>
</tr>
<tr>
<td>-f</td>
<td>显示文件系统信息</td>
</tr>
<tr>
<td>-h</td>
<td>显示帮助信息</td>
</tr>
<tr>
<td>-i</td>
<td>use ascii characters only</td>
</tr>
<tr>
<td>-m</td>
<td>显示权限信息</td>
</tr>
<tr>
<td>-l</td>
<td>使用列表格式显示</td>
</tr>
<tr>
<td>-n</td>
<td>不显示标题</td>
</tr>
<tr>
<td>-o</td>
<td>输出列</td>
</tr>
<tr>
<td>-P</td>
<td>使用key=”value”格式显示</td>
</tr>
<tr>
<td>-r</td>
<td>使用原始格式显示</td>
</tr>
<tr>
<td>-t</td>
<td>显示拓扑结构信息</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>lsblk命令默认情况下将以树状列出所有块设备：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">lsblk</span><br><span class="line">lsblk NAME   MAJ:MIN rm  SIZE RO type mountpoint</span><br><span class="line">sda      8:0    0 232.9G  0 disk </span><br><span class="line">├─sda1   8:1    0  46.6G  0 part / </span><br><span class="line">├─sda2   8:2    0     1K  0 part  </span><br><span class="line">├─sda5   8:5    0   190M  0 part /boot </span><br><span class="line">├─sda6   8:6    0   3.7G  0 part [SWAP] </span><br><span class="line">├─sda7   8:7    0  93.1G  0 part /data </span><br><span class="line">└─sda8   8:8    0  89.2G  0 part /personal </span><br><span class="line">sr0     11:0    1  1024M  0 rom</span><br></pre></td></tr></table></figure>
<p>默认选项不会列出所有空设备：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk -a</span><br></pre></td></tr></table></figure>
<p>也可以用于列出一个特定设备的拥有关系，同时也可以列出组和模式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk -m</span><br></pre></td></tr></table></figure>
<p>要获取SCSI设备的列表，你只能使用-S选项，该选项是用来以颠倒的顺序打印依赖的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk -S</span><br></pre></td></tr></table></figure>
<p>例如，你也许想要以列表格式列出设备，而不是默认的树状格式。可以将两个不同的选项组合，以获得期望的输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk -nl</span><br></pre></td></tr></table></figure>
<h2 id="fdisk命令-–-磁盘分区"><a href="#fdisk命令-–-磁盘分区" class="headerlink" title="fdisk命令 – 磁盘分区"></a>fdisk命令 – 磁盘分区</h2><p>fdisk命令的英文全称是“Partition table manipulator for Linux”，即作为磁盘的分区工具。进行硬盘分区从实质上说就是对硬盘的一种格式化， 用一个形象的比喻，分区就好比在一张白纸上画一个大方框，而格式化好比在方框里打上格子。</p>
<p><strong>语法格式：</strong>fdisk [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-b</th>
<th>指定每个分区的大小</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l</td>
<td>列出指定的外围设备的分区表状况</td>
</tr>
<tr>
<td>-s</td>
<td>将指定的分区大小输出到标准输出上，单位为区块</td>
</tr>
<tr>
<td>-u</td>
<td>搭配”-l”参数列表，会用分区数目取代柱面数目，来表示每个分区的起始地址</td>
</tr>
<tr>
<td>-v</td>
<td>显示版本信息</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>查看所有分区情况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure>
<p>选择分区磁盘：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk /dev/sdb</span><br></pre></td></tr></table></figure>
<p>在当前磁盘上建立扩展分区：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk /ext</span><br></pre></td></tr></table></figure>
<p>不检查磁盘表面加快分区操作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk /actok</span><br></pre></td></tr></table></figure>
<p>重建主引导记录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk /cmbr</span><br></pre></td></tr></table></figure>
<h2 id="quota命令-–-显示磁盘已使用的空间与限制"><a href="#quota命令-–-显示磁盘已使用的空间与限制" class="headerlink" title="quota命令 – 显示磁盘已使用的空间与限制"></a>quota命令 – 显示磁盘已使用的空间与限制</h2><p>quota命令用于显示磁盘已使用的空间与限制。执行quota命令可查询磁盘空间的限制，并得知已使用多少空间。</p>
<p><strong>语法参数：</strong>quota [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-g</th>
<th>列出群组的磁盘空间限制</th>
</tr>
</thead>
<tbody>
<tr>
<td>-q</td>
<td>简明列表，只列出超过限制的部分</td>
</tr>
<tr>
<td>-u</td>
<td>列出用户的磁盘空间限制</td>
</tr>
<tr>
<td>-v</td>
<td>显示该用户或群组，在所有挂入系统的存储设备的空间限制</td>
</tr>
<tr>
<td>-V</td>
<td>显示版本信息</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>显示目前执行者（root ）的 quota 值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quota -guvs</span><br></pre></td></tr></table></figure>
<p>显示 test 这个使用者的 quota 值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quota -uvs test</span><br></pre></td></tr></table></figure>
<h2 id="arpd命令-–-收集arp信息"><a href="#arpd命令-–-收集arp信息" class="headerlink" title="arpd命令 – 收集arp信息"></a>arpd命令 – 收集arp信息</h2><p>arpd命令是用来收集免费arp信息的一个守护进程，它将收集到的信息保存在磁盘上或者在需要时，提供给内核用户用于避免多余广播。</p>
<p><strong>语法格式：</strong>arpd [参数]</p>
<p><strong>参考实例</strong></p>
<table>
<thead>
<tr>
<th>-l</th>
<th>将arp数据库输出到标准输出设备显示并退出</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f</td>
<td>指定读取和加载arpd数据库的文本文件，文件的格式与“-l”输出信息类似</td>
</tr>
<tr>
<td>-b</td>
<td>指定arpd数据库文件，默认的位置为“/var/lib/arpd.db</td>
</tr>
<tr>
<td>-a</td>
<td>指定目标被认为死掉前查询的次数</td>
</tr>
<tr>
<td>-k</td>
<td>禁止通过内核发送广播查询</td>
</tr>
<tr>
<td>-n</td>
<td>设定缓冲失效时间</td>
</tr>
</tbody>
</table>
<p><strong>常用参数：</strong>﻿</p>
<p>启动arpd进程：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arpd -b /var/tmp/arpd.db</span><br></pre></td></tr></table></figure>
<p>一段时间后看结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">killall arpd ; arpd -l -b /var/tmp/arpd.db</span><br></pre></td></tr></table></figure>
<p>启用内核帮助程序，将主要角色留给内核：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arpd -b /var/tmp/arpd.db -a 1 eth0 eth1</span><br></pre></td></tr></table></figure>
<p>完全替换接口eth0和eth1上的内核决议。 在这种情况下，内核仍会进行单播探测以验证条目，但所有广播活动都被抑制并在arpd的授权下进行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arpd -b /var/tmp/arpd.db -a 3 -k eth0 eth1</span><br></pre></td></tr></table></figure>
<p>禁止内核发送广播查询 ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arpd -k</span><br></pre></td></tr></table></figure>
<h1 id="5-文件传输"><a href="#5-文件传输" class="headerlink" title="5. 文件传输"></a>5. 文件传输</h1><h2 id="curl命令-–-文件传输工具"><a href="#curl命令-–-文件传输工具" class="headerlink" title="curl命令 – 文件传输工具"></a>curl命令 – 文件传输工具</h2><p>curl命令是一个利用URL规则在shell终端命令行下工作的文件传输工具；它支持文件的上传和下载，所以是综合传输工具，但按传统，习惯称curl为下载工具。</p>
<p>作为一款强力工具，curl支持包括HTTP、HTTPS、ftp等众多协议，还支持POST、cookies、认证、从指定偏移处下载部分文件、用户代理字符串、限速、文件大小、进度条等特征；做网页处理流程和数据检索自动化。</p>
<p><strong>语法格式：</strong>curl [参数] [网址]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-O</th>
<th>把输出写到该文件中，保留远程文件的文件名</th>
</tr>
</thead>
<tbody>
<tr>
<td>-u</td>
<td>通过服务端配置的用户名和密码授权访问</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>将下载的数据写入到文件，必须使用文件的绝对地址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://www.linuxcool.com/abc.txt --silent -O</span><br></pre></td></tr></table></figure>
<p>访问需要授权的页面时，可通过-u选项提供用户名和密码进行授权：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -u root https://www.linuxprobe.com/</span><br><span class="line">Enter host password for user &apos;root&apos;:</span><br></pre></td></tr></table></figure>
<h2 id="ftpwho命令-–-显示ftp会话信息"><a href="#ftpwho命令-–-显示ftp会话信息" class="headerlink" title="ftpwho命令 – 显示ftp会话信息"></a>ftpwho命令 – 显示ftp会话信息</h2><p>ftpwho命令用于显示当前所有以FTP登入的用户会话信息。</p>
<p>执行该命令可得知当前用FTP登入系统的用户有哪些人，以及他们正在进行的操作。</p>
<p><strong>语法格式：</strong>ftpwho [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-h</th>
<th>显示帮助信息</th>
</tr>
</thead>
<tbody>
<tr>
<td>-v</td>
<td>详细模式，输出更多信息</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>查询当前正在登录FTP 服务器的用户：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ftpwho</span><br></pre></td></tr></table></figure>
<h2 id="fsck命令-–-检查并修复Linux文件系统"><a href="#fsck命令-–-检查并修复Linux文件系统" class="headerlink" title="fsck命令 – 检查并修复Linux文件系统"></a>fsck命令 – 检查并修复Linux文件系统</h2><p>fsck命令的英文全称是“filesystem check”，即检查文件系统的意思，常用于检查并修复Linux文件系统的一些错误信息，操作文件系统需要先备份重要数据，以防丢失。</p>
<p>Linux fsck命令用于检查并修复Linux文件系统，可以同时检查一个或多个 Linux 文件系统；若系统掉电或磁盘发生问题，可利用fsck命令对文件系统进行检查。</p>
<p><strong>语法格式：</strong>fsck [参数] [文件系统]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-a</th>
<th>自动修复文件系统，不询问任何问题</th>
</tr>
</thead>
<tbody>
<tr>
<td>-A</td>
<td>依照/etc/fstab配置文件的内容，检查文件内所列的全部文件系统</td>
</tr>
<tr>
<td>-N</td>
<td>不执行指令，仅列出实际执行会进行的动作</td>
</tr>
<tr>
<td>-P</td>
<td>当搭配”-A”参数使用时，则会同时检查所有的文件系统</td>
</tr>
<tr>
<td>-r</td>
<td>采用互动模式，在执行修复时询问问题，让用户得以确认并决定处理方式</td>
</tr>
<tr>
<td>-R</td>
<td>当搭配”-A”参数使用时，则会略过/目录的文件系统不予检查</td>
</tr>
<tr>
<td>-t</td>
<td>指定要检查的文件系统类型</td>
</tr>
<tr>
<td>-T</td>
<td>执行fsck指令时，不显示标题信息</td>
</tr>
<tr>
<td>-V</td>
<td>显示指令执行过程</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>修复坏的分区文件系统：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fsck -t ext3 -r /usr/local</span><br><span class="line"> fsck from util-linux 2.23.2</span><br><span class="line"> e2fsck 1.42.9 (28-Dec-2013)</span><br><span class="line"> fsck.ext3: Is a directory while trying to open /usr/local</span><br><span class="line"> The superblock could not be read or does not describe a correct ext2</span><br><span class="line"> filesystem.  If the device is valid and it really contains an ext2</span><br><span class="line"> filesystem (and not swap or ufs or something else), then the superblock</span><br><span class="line"> is corrupt, and you might try running e2fsck with an alternate superblock:</span><br><span class="line">     e2fsck -b 8193 </span><br><span class="line"> /usr/local: status 8, rss 1232, real 0.020288, user 0.002022, sys 0.005354</span><br></pre></td></tr></table></figure>
<p>显示fsck系统安装的版本号：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fsck --version </span><br><span class="line">fsck from util-linux 2.23.2</span><br></pre></td></tr></table></figure>
<h2 id="ftpshut命令-–-指定时间关闭FTP服务器"><a href="#ftpshut命令-–-指定时间关闭FTP服务器" class="headerlink" title="ftpshut命令 – 指定时间关闭FTP服务器"></a>ftpshut命令 – 指定时间关闭FTP服务器</h2><p>ftpshut命令为系统管理者提供了在设置的时间关闭FTP服务器，且能在关闭之前发出警告信息通知用户的功能。</p>
<p>关闭时间若设置后为”none”，则会马上关闭服务器。如果采用”+30″的方式来设置表示服务器在30分钟之后关闭。依次类推，假设使用”1130″的格式则代表服务器会在每日的11时30分关闭，时间格式为24 小时制。FTP服务器关闭后，在/etc目录下会产生一个名称为shutmsg的文件，把它删除后即可再次启用FTP服务器。</p>
<p><strong>语法格式：</strong>ftpshut [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-d</th>
<th>切断所有FTP连线时间</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l</td>
<td>停止接受FTP登入的时间</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>在晚上11:00 关闭FTP服务器，并在关闭前5 分钟拒绝新的FTP登录，前3 分钟关闭所有ftp的链接，且给出警告信息 ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ftpshut-d 3 -1 5 1100 &quot;Server will be shutdown at 23:00:00&quot;</span><br></pre></td></tr></table></figure>
<h2 id="lprm命令-–-删除打印队列中的打印任务"><a href="#lprm命令-–-删除打印队列中的打印任务" class="headerlink" title="lprm命令 – 删除打印队列中的打印任务"></a>lprm命令 – 删除打印队列中的打印任务</h2><p>lprm命令的英文全称是“Remove jobs from the print queue”，意为用于删除打印队列中的打印任务。尚未完成的打印机工作会被放在打印机贮列之中，这个命令可用来将未送到打印机的工作取消。</p>
<p><strong>语法格式：</strong>lprm [参数] [任务编号]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-E</th>
<th>与打印服务器连接时强制使用加密</th>
</tr>
</thead>
<tbody>
<tr>
<td>-P</td>
<td>指定接受打印任务的目标打印机</td>
</tr>
<tr>
<td>-U</td>
<td>指定可选的用户名</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>将打印机hpprint中的第102号任务移除：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lprm -Phpprint 102</span><br></pre></td></tr></table></figure>
<p>将第101号任务由预设打印机中移除：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lprm 101</span><br></pre></td></tr></table></figure>
<h1 id="6-网络通讯"><a href="#6-网络通讯" class="headerlink" title="6. 网络通讯"></a>6. 网络通讯</h1><h2 id="ping命令-–-测试主机间网络连通性"><a href="#ping命令-–-测试主机间网络连通性" class="headerlink" title="ping命令 – 测试主机间网络连通性"></a>ping命令 – 测试主机间网络连通性</h2><p>ping命令主要用来测试主机之间网络的连通性，也可以用于。执行ping指令会使用ICMP传输协议，发出要求回应的信息，若远端主机的网络功能没有问题，就会回应该信息，因而得知该主机运作正常。</p>
<p>不过值得我们注意的是：Linux系统下的ping命令与Windows系统下的ping命令稍有不同。Windows下运行ping命令一般会发出4个请求就结束运行该命令；而Linux下不会自动终止，此时需要我们按CTR+C终止或者使用-c参数为ping命令指定发送的请求数目。</p>
<p><strong>语法格式：</strong>ping [参数] [目标主机]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-d</th>
<th>使用Socket的SO_DEBUG功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>-c</td>
<td>指定发送报文的次数</td>
</tr>
<tr>
<td>-i</td>
<td>指定收发信息的间隔时间</td>
</tr>
<tr>
<td>-I</td>
<td>使用指定的网络接口送出数据包</td>
</tr>
<tr>
<td>-l</td>
<td>设置在送出要求信息之前，先行发出的数据包</td>
</tr>
<tr>
<td>-n</td>
<td>只输出数值</td>
</tr>
<tr>
<td>-p</td>
<td>设置填满数据包的范本样式</td>
</tr>
<tr>
<td>-q</td>
<td>不显示指令执行过程</td>
</tr>
<tr>
<td>-R</td>
<td>记录路由过程</td>
</tr>
<tr>
<td>-s</td>
<td>设置数据包的大小</td>
</tr>
<tr>
<td>-t</td>
<td>设置存活数值TTL的大小</td>
</tr>
<tr>
<td>-v</td>
<td>详细显示指令的执行过程</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>检测与linuxcool网站的连通性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping www.linuxcool.com</span><br></pre></td></tr></table></figure>
<p>连续ping4次：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping -c 4 www.linuxcool.com</span><br></pre></td></tr></table></figure>
<p>设置次数为4，时间间隔为3秒：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping -c 4 -i 3 www.linuxcool.com</span><br></pre></td></tr></table></figure>
<p>利用ping命令获取指定网站的IP地址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping -c 1 linuxcool.com | grep from | cut -d &quot; &quot; -f 4</span><br><span class="line">220.181.57.216</span><br></pre></td></tr></table></figure>
<h2 id="netstat命令-–-显示网络状态"><a href="#netstat命令-–-显示网络状态" class="headerlink" title="netstat命令 – 显示网络状态"></a>netstat命令 – 显示网络状态</h2><p>netstat 命令用于显示各种网络相关信息，如网络连接，路由表，接口状态 (Interface Statistics)，masquerade 连接，多播成员 (Multicast Memberships) 等等。</p>
<p>从整体上看，netstat的输出结果可以分为两个部分：一个是Active Internet connections，称为有源TCP连接，其中”Recv-Q”和”Send-Q”指%0A的是接收队列和发送队列。这些数字一般都应该是0。如果不是则表示软件包正在队列中堆积。这种情况只能在非常少的情况见到；另一个是Active UNIX domain sockets，称为有源Unix域套接口(和网络套接字一样，但是只能用于本机通信，性能可以提高一倍)。</p>
<p><strong>语法格式：</strong>netstat [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-a</th>
<th>显示所有连线中的Socket</th>
</tr>
</thead>
<tbody>
<tr>
<td>-p</td>
<td>显示正在使用Socket的程序识别码和程序名称</td>
</tr>
<tr>
<td>-u</td>
<td>显示UDP传输协议的连线状况</td>
</tr>
<tr>
<td>-i</td>
<td>显示网络界面信息表单</td>
</tr>
<tr>
<td>-n</td>
<td>直接使用IP地址，不通过域名服务器</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>显示详细的网络状况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -a</span><br></pre></td></tr></table></figure>
<p>显示当前户籍UDP连接状况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -nu</span><br></pre></td></tr></table></figure>
<p>显示UDP端口号的使用情况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">netstat -apu </span><br><span class="line">Active Internet connections (servers and established)</span><br><span class="line">Proto Recv-Q Send-Q Local Address  Foreign Address  State  PID/Program name    </span><br><span class="line">udp        0      0 0.0.0.0:bootpc          0.0.0.0:*      4000/dhclient       </span><br><span class="line">udp        0      0 localhost:323           0.0.0.0:*      3725/chronyd        </span><br><span class="line">udp6       0      0 localhost:323           [::]:*         3725/chronyd</span><br></pre></td></tr></table></figure>
<p>显示网卡列表：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">netstat -i </span><br><span class="line">Kernel Interface table </span><br><span class="line">Iface MTU Met  RX-OK  RX-ERR  RX-DRP RX-OVR  TX-OK TX-ERR TX-DRP TX-OVR Flg </span><br><span class="line">eth0 1500   0  181864   0      0       0     141278   0     0     0    BMRU </span><br><span class="line">lo   16436  0   3362    0      0       0     3362     0     0     0    LRU</span><br></pre></td></tr></table></figure>
<p>显示组播组的关系：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">netstat -g </span><br><span class="line">IPv6/IPv4 Group Memberships Interface    </span><br><span class="line">RefCnt Group </span><br><span class="line">--------------- ------ --------------------- </span><br><span class="line">lo        1   ALL-SYSTEMS.MCAST.NET </span><br><span class="line">eth0      1   ALL-SYSTEMS.MCAST.NET lo       1   ff02::1 </span><br><span class="line">eth0      1   ff02::1:ff0a:b0c eth0          1   ff02::1</span><br></pre></td></tr></table></figure>
<h2 id="ifconfig命令-–-显示或设置网络设备"><a href="#ifconfig命令-–-显示或设置网络设备" class="headerlink" title="ifconfig命令 – 显示或设置网络设备"></a>ifconfig命令 – 显示或设置网络设备</h2><p>ifconfig命令的英文全称是“network interfaces configuring”，即用于配置和显示Linux内核中网络接口的网络参数。用ifconfig命令配置的网卡信息，在网卡重启后机器重启后，配置就不存在。要想将上述的配置信息永远的存的电脑里，那就要修改网卡的配置文件了。</p>
<p><strong>语法格式：</strong>ifconfig [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>add&lt;地址&gt;</th>
<th>设置网络设备IPv6的IP地址</th>
</tr>
</thead>
<tbody>
<tr>
<td>del&lt;地址&gt;</td>
<td>删除网络设备IPv6的IP地址</td>
</tr>
<tr>
<td>down</td>
<td>关闭指定的网络设备</td>
</tr>
<tr>
<td>up</td>
<td>启动指定的网络设备</td>
</tr>
<tr>
<td>IP地址</td>
<td>指定网络设备的IP地址</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>显示网络设备信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig</span><br><span class="line">eth0   Link encap:Ethernet HWaddr 00:50:56:0A:0B:0C       </span><br><span class="line">       inet addr:192.168.0.3 Bcast:192.168.0.255 Mask:255.255.255.0</span><br><span class="line">       inet6 addr: fe80::250:56ff:fe0a:b0c/64 Scope:Link     </span><br><span class="line">       UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1      </span><br><span class="line">       RX packets:172220 errors:0 dropped:0 overruns:0 frame:0      </span><br><span class="line">       TX packets:132379 errors:0 dropped:0 overruns:0 carrier:0 </span><br><span class="line">       collisions:0 txqueuelen:1000       </span><br><span class="line">       RX bytes:87101880 (83.0 MiB) TX bytes:41576123 (39.6 MiB) </span><br><span class="line">       Interrupt:185 Base address:0x2024  </span><br><span class="line">lo    Link encap:Local Loopback       </span><br><span class="line">      inet addr:127.0.0.1 Mask:255.0.0.0      </span><br><span class="line">      inet6 addr: ::1/128 Scope:Host      </span><br><span class="line">      UP LOOPBACK RUNNING MTU:16436 Metric:1      </span><br><span class="line">      RX packets:2022 errors:0 dropped:0 overruns:0 frame:0      </span><br><span class="line">      TX packets:2022 errors:0 dropped:0 overruns:0 carrier:0   </span><br><span class="line">      collisions:0 txqueuelen:0       </span><br><span class="line">      RX bytes:2459063 (2.3 MiB) </span><br><span class="line">      TX bytes:2459063 (2.3 MiB)</span><br></pre></td></tr></table></figure>
<p>启动关闭指定网卡：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig eth0 down</span><br><span class="line"># ifconfig eth0 up</span><br></pre></td></tr></table></figure>
<p>为网卡配置和删除IPv6地址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig eth0 add 33ffe:3240:800:1005::2/64</span><br><span class="line"># ifconfig eth0 del 33ffe:3240:800:1005::2/64</span><br></pre></td></tr></table></figure>
<p>用ifconfig修改MAC地址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig eth0 down</span><br><span class="line"># ifconfig eth0 hw ether 00:AA:BB:CC:DD:EE</span><br><span class="line"># ifconfig eth0 up</span><br><span class="line"># ifconfig eth1 hw ether 00:1D:1C:1D:1E </span><br><span class="line"># ifconfig eth1 up</span><br></pre></td></tr></table></figure>
<p>配置IP地址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig eth0 192.168.1.56 </span><br><span class="line"># ifconfig eth0 192.168.1.56 netmask 255.255.255.0</span><br><span class="line"># ifconfig eth0 192.168.1.56 netmask 255.255.255.0 broadcast 192.168.1.255</span><br></pre></td></tr></table></figure>
<h2 id="ss命令-–-显示活动套接字信息"><a href="#ss命令-–-显示活动套接字信息" class="headerlink" title="ss命令 – 显示活动套接字信息"></a>ss命令 – 显示活动套接字信息</h2><p>ss是Socket Statistics的缩写。ss命令用来显示处于活动状态的套接字信息。它可以显示和netstat类似的内容。但ss的优势在于它能够显示更多更详细的有关TCP和连接状态的信息，而且比netstat更快速更高效。</p>
<p><strong>语法格式：</strong>ss [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-n</th>
<th>不解析服务名称，已数字方式显示</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>显示所有套接字</td>
</tr>
<tr>
<td>-l</td>
<td>显示处于监听状态的套接字</td>
</tr>
<tr>
<td>-o</td>
<td>显示计时器信息</td>
</tr>
<tr>
<td>-e</td>
<td>显示详细的套接字信息</td>
</tr>
<tr>
<td>-m</td>
<td>显示套接字的内存使用情况</td>
</tr>
<tr>
<td>-p</td>
<td>显示使用套接字的进程</td>
</tr>
<tr>
<td>-i</td>
<td>显示内部的TCP信息</td>
</tr>
<tr>
<td>-s</td>
<td>显示套接字使用概况</td>
</tr>
<tr>
<td>-4</td>
<td>仅显示ipv4的套接字</td>
</tr>
<tr>
<td>-6</td>
<td>仅显示ipv6的套接字</td>
</tr>
<tr>
<td>-0</td>
<td>显示PACKET套接字</td>
</tr>
<tr>
<td>-t</td>
<td>只显示TCP套接字</td>
</tr>
<tr>
<td>-u</td>
<td>只显示UDP套接字</td>
</tr>
<tr>
<td>-d</td>
<td>只显示DCCP套接字</td>
</tr>
<tr>
<td>-w</td>
<td>只显示RAW套接字</td>
</tr>
<tr>
<td>-x</td>
<td>只显示 Unix套接字</td>
</tr>
<tr>
<td>-D</td>
<td>将原始TCP套接字信息转储到文件</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>显示TCP套接字：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># ss -t -a </span><br><span class="line">State     Recv-Q     Send-Q     Local Address:Port     Peer Address:Port   </span><br><span class="line">LISTEN    0          128        0.0.0.0:ssh            0.0.0.0:*                                </span><br><span class="line">ESTAB     0          52         192.168.60.19:ssh      192.168.30.21:59321               </span><br><span class="line">LISTEN    0          128        *:websm                *:*               </span><br><span class="line">LISTEN    0          128        [::]:ssh               [::]:*</span><br></pre></td></tr></table></figure>
<p>显示UDP套接字：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># ss -u -a</span><br><span class="line">State     Recv-Q     Send-Q     Local Address:Port     Peer Address:Port              </span><br><span class="line">UNCONN    0          0          0.0.0.0:bootpc         0.0.0.0:*                 </span><br><span class="line">UNCONN    0          0          127.0.0.1:323          0.0.0.0:*                 </span><br><span class="line">UNCONN    0          0          [::1]:323              [::]:*</span><br></pre></td></tr></table></figure>
<p>显示套接字使用概况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># ss -s</span><br><span class="line">Total: 185</span><br><span class="line">TCP:   4 (estab 1, closed 0, orphaned 0, timewait 0)</span><br><span class="line">Transport Total     IP        IPv6</span><br><span class="line">RAW       1         0         1        </span><br><span class="line">UDP       3         2         1        </span><br><span class="line">TCP       4         2         2        </span><br><span class="line">INET      8         4         4        </span><br><span class="line">FRAG      0         0         0</span><br></pre></td></tr></table></figure>
<h2 id="ipcalc命令-–-简单的IP地址计算器"><a href="#ipcalc命令-–-简单的IP地址计算器" class="headerlink" title="ipcalc命令 – 简单的IP地址计算器"></a>ipcalc命令 – 简单的IP地址计算器</h2><p>ipcalc命令的全称是：Calculate IP information for a host（计算主机的IP信息）</p>
<p>ipcalc命令是一个简单的ip地址计算器，可以完成简单的IP地址计算任务。</p>
<p><strong>语法格式：</strong> ipcalc [参数] [IP地址]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-b</th>
<th>由给定的IP地址和网络掩码计算出广播地址</th>
</tr>
</thead>
<tbody>
<tr>
<td>-h</td>
<td>显示给定IP地址所对应的主机名</td>
</tr>
<tr>
<td>-m</td>
<td>由给定的IP地址计算器网络掩码</td>
</tr>
<tr>
<td>-p</td>
<td>显示给定的掩码或IP地址的前缀</td>
</tr>
<tr>
<td>-n</td>
<td>由给定的IP地址和网络掩码计算网络地址</td>
</tr>
<tr>
<td>-s</td>
<td>安静模式，不显示任何错误信息</td>
</tr>
<tr>
<td>–help</td>
<td>显示帮助信息</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>计算给定掩码的前缀 ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ipcalc -p 192.168.88.56 255.255.255.0</span><br><span class="line">PREFIX=24</span><br></pre></td></tr></table></figure>
<p>给定IP和网络掩码计算网络地址 ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ipcalc -n 192.168.88.56 255.255.255.0</span><br><span class="line">NETWORK=192.168.88.0</span><br></pre></td></tr></table></figure>
<p>给定IP显示对应的主机名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ipcalc -h 223.5.5.5</span><br><span class="line">HOSTNAME=public1.alidns.com</span><br></pre></td></tr></table></figure>
<p>使用多个参数计算给定IP的网络掩码，广播地址，网络地址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># ipcalc -m -b -n 119.29.29.29/28</span><br><span class="line">NETMASK=255.255.255.240</span><br><span class="line">BROADCAST=119.29.29.31</span><br><span class="line">NETWORK=119.29.29.16</span><br></pre></td></tr></table></figure>
<h1 id="7-设备管理"><a href="#7-设备管理" class="headerlink" title="7. 设备管理"></a>7. 设备管理</h1><h2 id="mount命令-–-文件系统挂载"><a href="#mount命令-–-文件系统挂载" class="headerlink" title="mount命令 – 文件系统挂载"></a>mount命令 – 文件系统挂载</h2><p>mount命令用于加载文件系统到指定的加载点。此命令的最常用于挂载cdrom，使我们可以访问cdrom中的数据，因为你将光盘插入cdrom中，Linux并不会自动挂载，必须使用Linux mount命令来手动完成挂载。</p>
<p><strong>语法格式：</strong>mount [参数]</p>
<p><strong>常用参数：</strong>﻿</p>
<table>
<thead>
<tr>
<th>-t</th>
<th>指定挂载类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l</td>
<td>显示已加载的文件系统列表</td>
</tr>
<tr>
<td>-h</td>
<td>显示帮助信息并退出</td>
</tr>
<tr>
<td>-V</td>
<td>显示程序版本</td>
</tr>
<tr>
<td>-n</td>
<td>加载没有写入文件“/etc/mtab”中的文件系统</td>
</tr>
<tr>
<td>-r</td>
<td>将文件系统加载为只读模式</td>
</tr>
<tr>
<td>-a</td>
<td>加载文件“/etc/fstab”中描述的所有文件系统</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong>﻿</p>
<p>查看版本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mount -V</span><br></pre></td></tr></table></figure>
<p>启动所有挂载：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mount -a</span><br></pre></td></tr></table></figure>
<p>挂载 /dev/cdrom 到 /mnt：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mount /dev/cdrom /mnt</span><br></pre></td></tr></table></figure>
<p>挂载nfs格式文件系统：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mount -t nfs /123 /mnt</span><br></pre></td></tr></table></figure>
<p>挂载第一块盘的第一个分区到/etc目录 ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mount -t ext4 -o loop,default /dev/sda1 /etc</span><br></pre></td></tr></table></figure>
<h2 id="setleds命令-–-设定键盘上方三个-LED-的状态"><a href="#setleds命令-–-设定键盘上方三个-LED-的状态" class="headerlink" title="setleds命令 – 设定键盘上方三个 LED 的状态"></a>setleds命令 – 设定键盘上方三个 LED 的状态</h2><p>setleds即是英文词组“set leds”的合并，翻译为中文就是设置LED灯。setleds命令用来设定键盘上方三个 LED 灯的状态。在 Linux 中，每一个虚拟主控台都有独立的设定。</p>
<p>这是一个十分神奇的命令，竟然可以通过命令来控制键盘的灯的状态。那么下面我一起来学习一下这个命令吧。</p>
<p><strong>语法格式：</strong>setleds [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-F</th>
<th>设定虚拟主控台的状态</th>
</tr>
</thead>
<tbody>
<tr>
<td>-D</td>
<td>改变虚拟主控台的状态和预设的状态</td>
</tr>
<tr>
<td>-L</td>
<td>直接改变 LED 显示的状态</td>
</tr>
<tr>
<td>+num/-num</td>
<td>将数字键打开或关闭</td>
</tr>
<tr>
<td>+caps/-caps</td>
<td>把大小写键打开或关闭</td>
</tr>
<tr>
<td>+scroll /-scroll</td>
<td>把选项键打开或关闭</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>控制键盘灯num灯亮和灯灭：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># setleds +num </span><br><span class="line"># setleds -num</span><br></pre></td></tr></table></figure>
<p>控制键盘的大小写键打开或关闭，键盘指示灯亮与灭：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># setleds +caps </span><br><span class="line"># setleds -caps</span><br></pre></td></tr></table></figure>
<p>控制键盘的选项键打开或关闭，键盘指示灯亮与灭：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># setleds +scroll</span><br></pre></td></tr></table></figure>
<p>对三灯的亮与灭的情况进行组合，分别设置为数字灯亮，大小写灯灭，选项键scroll灯灭：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># setleds +num -caps -scroll</span><br></pre></td></tr></table></figure>
<h2 id="loadkeys命令-–-改变linux键盘驱动程序"><a href="#loadkeys命令-–-改变linux键盘驱动程序" class="headerlink" title="loadkeys命令 – 改变linux键盘驱动程序"></a>loadkeys命令 – 改变linux键盘驱动程序</h2><p>loadkeys命令可以根据一个键盘定义表改变 linux 键盘驱动程序转译键盘输入过程。</p>
<p><strong>语法格式：</strong>loadkeys [参数] [文件]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-v</th>
<th>印出详细的资料，你可以重复以增加详细度</th>
</tr>
</thead>
<tbody>
<tr>
<td>-q</td>
<td>不要显示任何讯息</td>
</tr>
<tr>
<td>-c</td>
<td>清除所有 composite 定义</td>
</tr>
<tr>
<td>-s</td>
<td>将定串定义表清除</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>显示功能键：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># loadkeys --funcs-only</span><br></pre></td></tr></table></figure>
<p>将定串定义表清除：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># loadkeys -s</span><br></pre></td></tr></table></figure>
<p>清除所有 composite 定义：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># loadkeys -c</span><br></pre></td></tr></table></figure>
<p>印出详细的资料，你可以重复以增加详细度：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># loadkeys -v</span><br></pre></td></tr></table></figure>
<p>不要显示任何讯息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># loadkeys -q</span><br></pre></td></tr></table></figure>
<h1 id="8-备份压缩"><a href="#8-备份压缩" class="headerlink" title="8. 备份压缩"></a>8. 备份压缩</h1><h2 id="gzip命令-–-压缩和解压文件"><a href="#gzip命令-–-压缩和解压文件" class="headerlink" title="gzip命令 – 压缩和解压文件"></a>gzip命令 – 压缩和解压文件</h2><p>gzip命令的英文是“GNUzip”，是常用来压缩文件的工具，gzip是个使用广泛的压缩程序，文件经它压缩过后，其名称后面会多处“.gz”扩展名。</p>
<p>gzip是在Linux系统中经常使用的一个对文件进行压缩和解压缩的命令，既方便又好用。gzip不仅可以用来压缩大的、较少使用的文件以节省磁盘空间，还可以和tar命令一起构成Linux操作系统中比较流行的压缩文件格式。据统计，gzip命令对文本文件有60%～70%的压缩率。减少文件大小有两个明显的好处，一是可以减少存储空间，二是通过网络传输文件时，可以减少传输的时间。</p>
<p><strong>语法格式：</strong>gzip [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-a</th>
<th>使用ASCII文字模式</th>
</tr>
</thead>
<tbody>
<tr>
<td>-d</td>
<td>解开压缩文件</td>
</tr>
<tr>
<td>-f</td>
<td>强行压缩文件</td>
</tr>
<tr>
<td>-l</td>
<td>列出压缩文件的相关信息</td>
</tr>
<tr>
<td>-c</td>
<td>把压缩后的文件输出到标准输出设备，不去更动原始文件</td>
</tr>
<tr>
<td>-r</td>
<td>递归处理，将指定目录下的所有文件及子目录一并处理</td>
</tr>
<tr>
<td>-q</td>
<td>不显示警告信息</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>把rancher-v2.2.0目录下的每个文件压缩成.gz文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># gzip *</span><br></pre></td></tr></table></figure>
<p>把上例中每个压缩的文件解压，并列出详细的信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># gzip -dv *</span><br></pre></td></tr></table></figure>
<p>递归地解压目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># gzip -dr rancher.gz</span><br></pre></td></tr></table></figure>
<h2 id="unzip命令-–-解压缩zip文件"><a href="#unzip命令-–-解压缩zip文件" class="headerlink" title="unzip命令 – 解压缩zip文件"></a>unzip命令 – 解压缩zip文件</h2><p>unzip命令是用于.zip格式文件的解压缩工具 ，unzip命令将列出、测试或从zip格式存档中提取文件，这些文件通常位于MS-DOS系统上。</p>
<p>默认行为（就是没有选项）是从指定的ZIP存档中提取所有的文件到当前目录（及其下面的子目录）。一个配套程序zip（1L）创建ZIP存档；这两个程序都与PKWARE的PKZIP和PKUNZIP为MS-DOS创建的存档文件兼容，但许多情况下，程序选项或默认行为是不同的。</p>
<p><strong>语法格式：</strong>unzip [参数] [文件]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-l</th>
<th>显示压缩文件内所包含的文件</th>
</tr>
</thead>
<tbody>
<tr>
<td>-v</td>
<td>执行时显示详细的信息</td>
</tr>
<tr>
<td>-c</td>
<td>将解压缩的结果显示到屏幕上，并对字符做适当的转换</td>
</tr>
<tr>
<td>-n</td>
<td>解压缩时不要覆盖原有的文件</td>
</tr>
<tr>
<td>-j</td>
<td>不处理压缩文件中原有的目录路径</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>把/home目录下面的mydata.zip解压到mydatabak目录里面：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># unzip mydata.zip -d mydatabak</span><br></pre></td></tr></table></figure>
<p>把/home目录下面的wwwroot.zip直接解压到/home目录里面：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># unzip wwwroot.zip</span><br></pre></td></tr></table></figure>
<p>把/home目录下面的abc12.zip、abc23.zip、abc34.zip同时解压到/home目录里面：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># unzip abc\*.zip</span><br></pre></td></tr></table></figure>
<p>查看把/home目录下面的wwwroot.zip里面的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># unzip -v wwwroot.zip</span><br></pre></td></tr></table></figure>
<p>验证/home目录下面的wwwroot.zip是否完整：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># unzip -t wwwroot.zip</span><br></pre></td></tr></table></figure>
<h2 id="zip命令-–-压缩文件"><a href="#zip命令-–-压缩文件" class="headerlink" title="zip命令 – 压缩文件"></a>zip命令 – 压缩文件</h2><p>zip程序将一个或多个压缩文件与有关文件的信息(名称、路径、日期、上次修改的时间、保护和检查信息以验证文件完整性)一起放入一个压缩存档中。可以使用一个命令将整个目录结构打包到zip存档中。</p>
<p>对于文本文件来说，压缩比为2：1和3：1是常见的。zip只有一种压缩方法(通缩)，并且可以在不压缩的情况下存储文件。(如果添加了bzip 2支持，zip也可以使用bzip 2压缩，但这些条目需要一个合理的现代解压缩来解压缩。当选择bzip 2压缩时，它将通货紧缩替换为默认方法。)zip会自动为每个要压缩的文件选择更好的两个文件(通缩或存储，如果选择bzip2，则选择bzip2或Store)。</p>
<p><strong>语法格式：</strong>zip [参数] [文件]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-q</th>
<th>不显示指令执行过程</th>
</tr>
</thead>
<tbody>
<tr>
<td>-r</td>
<td>递归处理，将指定目录下的所有文件和子目录一并处理</td>
</tr>
<tr>
<td>-z</td>
<td>替压缩文件加上注释</td>
</tr>
<tr>
<td>-v</td>
<td>显示指令执行过程或显示版本信息</td>
</tr>
<tr>
<td>-n&lt;字尾字符串&gt;</td>
<td>不压缩具有特定字尾字符串的文件</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>将 /home/html/ 这个目录下所有文件和文件夹打包为当前目录下的 html.zip：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zip -q -r html.zip /home/html</span><br></pre></td></tr></table></figure>
<p>压缩文件 cp.zip 中删除文件 a.c：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zip -dv cp.zip a.c</span><br></pre></td></tr></table></figure>
<p>把/home目录下面的mydata目录压缩为mydata.zip：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zip -r mydata.zip mydata</span><br></pre></td></tr></table></figure>
<p>把/home目录下面的abc文件夹和123.txt压缩成为abc123.zip：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zip -r abc123.zip abc 123.txt</span><br></pre></td></tr></table></figure>
<p>将 logs目录打包成 log.zip：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zip -r log.zip ./logs</span><br></pre></td></tr></table></figure>
<h2 id="bzip2命令-–-bz2文件的压缩程序"><a href="#bzip2命令-–-bz2文件的压缩程序" class="headerlink" title="bzip2命令 – bz2文件的压缩程序"></a>bzip2命令 – bz2文件的压缩程序</h2><p>Linux系统中bzip2命令的英文是“bunzip2”，即.bz2文件格式的压缩程序； bzip2命令系统默认是没有安装的，需要安装bzip2库才可以使用此命令。</p>
<p>bzip2命令采用新的压缩演算法，压缩效果比传统的LZ77/LZ78压缩演算法来得好。若没有加上任何参数，bzip2压缩完文件后会产生.bz2的压缩文件，并删除原始的文件。</p>
<p><strong>语法格式：</strong>bzip2 [参数] 文件系统</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-c</th>
<th>将压缩与解压缩的结果送到标准输出</th>
</tr>
</thead>
<tbody>
<tr>
<td>-d</td>
<td>执行解压缩</td>
</tr>
<tr>
<td>-f</td>
<td>bzip2在压缩或解压缩时，若输出文件与现有文件同名，预设不会覆盖现有文件。若要覆盖，请使用此参数</td>
</tr>
<tr>
<td>-k</td>
<td>bzip2在压缩或解压缩后，会删除原始的文件。若要保留原始文件，请使用此参数</td>
</tr>
<tr>
<td>-s</td>
<td>降低程序执行时内存的使用量</td>
</tr>
<tr>
<td>-t</td>
<td>测试.bz2压缩文件的完整性</td>
</tr>
<tr>
<td>-v</td>
<td>压缩或解压缩文件时，显示详细的信息</td>
</tr>
<tr>
<td>-z</td>
<td>强制执行压缩</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>压缩文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># bzip2 a.txt</span><br></pre></td></tr></table></figure>
<p>检查文件完整性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># bzip2 -t a.txt.bz2</span><br></pre></td></tr></table></figure>
<h2 id="zipinfo命令-–-查看压缩文件信息"><a href="#zipinfo命令-–-查看压缩文件信息" class="headerlink" title="zipinfo命令 – 查看压缩文件信息"></a>zipinfo命令 – 查看压缩文件信息</h2><p>zipinfo命令的全称为“zip information”，该命令用于列出压缩文件信息。执行zipinfo指令可得知zip压缩文件的详细信息。</p>
<p><strong>语法格式：</strong>zipinfo [参数]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-1</th>
<th>只列出文件名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2</td>
<td>此参数的效果和指定”-1″参数类似，但可搭配”-h”,”-t”和”-z”参数使用</td>
</tr>
<tr>
<td>-h</td>
<td>只列出压缩文件的文件名称</td>
</tr>
<tr>
<td>-l</td>
<td>此参数的效果和指定”-m”参数类似，但会列出原始文件的大小而非每个文件的压缩率</td>
</tr>
<tr>
<td>-m</td>
<td>此参数的效果和指定”-s”参数类似，但多会列出每个文件的压缩率</td>
</tr>
<tr>
<td>-M</td>
<td>若信息内容超过一个画面，则采用类似more指令的方式列出信息</td>
</tr>
<tr>
<td>-s</td>
<td>用类似执行”ls -l”指令的效果列出压缩文件内容</td>
</tr>
<tr>
<td>-t</td>
<td>只列出压缩文件内所包含的文件数目，压缩前后的文件大小及压缩率</td>
</tr>
<tr>
<td>-T</td>
<td>将压缩文件内每个文件的日期时间用年，月，日，时，分，秒的顺序列出</td>
</tr>
<tr>
<td>-v</td>
<td>详细显示压缩文件内每一个文件的信息</td>
</tr>
<tr>
<td>-x&lt;范本样式&gt;</td>
<td>不列出符合条件的文件的信息</td>
</tr>
<tr>
<td>-z</td>
<td>如果压缩文件内含有注释，就将注释显示出来</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>显示压缩文件信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># zipinfo file.zip </span><br><span class="line">Archive: file.zip  486 bytes  3 files</span><br><span class="line">-rw-r--r-- 2.3 unx    0 bx stor 24-May-10 18:54 a.c</span><br><span class="line">-rw-r--r-- 2.3 unx    0 bx stor 24-May-10 18:54 b.c</span><br><span class="line">-rw-r--r-- 2.3 unx    0 bx stor 24-May-10 18:54 c.c</span><br><span class="line">3 files, 0 bytes uncompressed, 0 bytes compressed: 0.0%</span><br></pre></td></tr></table></figure>
<p>显示压缩文件中每个文件的信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zipinfo -v file.zip</span><br></pre></td></tr></table></figure>
<p>只显示压缩包大小、文件数目：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># zipinfo -h file.zip             </span><br><span class="line">Archive:  file.zip</span><br><span class="line">Zip file size: 907 bytes, number of entries: 3</span><br></pre></td></tr></table></figure>
<p>生成一个基本的、长格式的列表(而不是冗长的)，包括标题和总计行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zipinfo -l file</span><br></pre></td></tr></table></figure>
<p>查看存档中最近修改的文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># zipinfo -T file | sort –nr -k 7 | sed 15q</span><br></pre></td></tr></table></figure>
<h1 id="9-其他命令"><a href="#9-其他命令" class="headerlink" title="9. 其他命令"></a>9. 其他命令</h1><h2 id="bc命令-–-浮点运算"><a href="#bc命令-–-浮点运算" class="headerlink" title="bc命令 – 浮点运算"></a>bc命令 – 浮点运算</h2><p>bc的英文全拼为“ Binary Calculator ”，是一种支持任意精度的交互执行的计算器语言。bash内置了对整数四则运算的支持，但是并不支持浮点运算，而bc命令可以很方便的进行浮点运算，当然整数运算也不再话下。</p>
<p><strong>语法格式：</strong>bc [选项]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-i</th>
<th>强制进入交互式模式</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l</td>
<td>定义使用的标准数学库</td>
</tr>
<tr>
<td>-w</td>
<td>定义使用的标准数学库</td>
</tr>
<tr>
<td>-q</td>
<td>打印正常的GNU bc环境信息</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>算术操作高级运算bc命令它可以执行浮点运算和一些高级函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># echo &quot;1.212*3&quot; | bc </span><br><span class="line"> 3.636</span><br></pre></td></tr></table></figure>
<p>设定小数精度（数值范围）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># echo &quot;scale=2;3/8&quot; | bc</span><br><span class="line"> .37</span><br></pre></td></tr></table></figure>
<p>计算平方和平方根：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># echo &quot;10^10&quot; | bc</span><br><span class="line"> 10000000000</span><br><span class="line">[root@linuxcool ~]# echo &quot;sqrt(100)&quot; | bc</span><br><span class="line"> 10</span><br></pre></td></tr></table></figure>
<h2 id="rmmod命令-–-删除模块"><a href="#rmmod命令-–-删除模块" class="headerlink" title="rmmod命令 – 删除模块"></a>rmmod命令 – 删除模块</h2><p>rmmod即“remove module”的简称,rmmod命令用于删除模块。 执行rmmod命令，可删除不需要的模块。Linux操作系统的核心具有模块化的特性，因此在编译核心时，不需要吧全部功能都放入核心，可以将这些功能编译成一个个单独的模块，待有需要时再分别载入它们。</p>
<p><strong>语法格式：</strong>rmmod [参数] [模块名称]</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-a</th>
<th>删除所有目前不需要的模块</th>
</tr>
</thead>
<tbody>
<tr>
<td>-s</td>
<td>把信息输出至syslog常驻服务，而非终端机界面</td>
</tr>
<tr>
<td>-v</td>
<td>显示指令执行的详细信息</td>
</tr>
<tr>
<td>-f</td>
<td>强制移除模块，使用此选项比较危险</td>
</tr>
<tr>
<td>-w</td>
<td>等待着，知道模块能够被除时再移除模块</td>
</tr>
</tbody>
</table>
<p><strong>参考实例</strong></p>
<p>卸载模块pppoe并显示执行信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># rmmod -v pppoe</span><br></pre></td></tr></table></figure>
<p>卸载bridge模块：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># rmmod bridge</span><br></pre></td></tr></table></figure>
<p>卸载bridge模块并将错误信息写入syslog：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># rmmod -s bridge</span><br></pre></td></tr></table></figure>
<p>孤立正在使用的bridge模块，知道不被使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># rmmod -w bridge</span><br></pre></td></tr></table></figure>
<p>删除正在使用的bridge模块（-f可以删除正在使用的模块，非常危险，慎用）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># rmmod -f bridge</span><br></pre></td></tr></table></figure>
<p><a href="https://www.linuxcool.com/" target="_blank" rel="noopener">Linux命令</a></p>
<p>我在上面这个网站看到的常用Linux命令，所以拿出来方便自己学习和记忆。</p>

      
    </div>
    
    
    
	

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div></div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.gif" alt="smallpotato 支付宝">
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    
	<div>
		
		
		
	</div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Linux/" rel="tag"><i class="fa fa-tag"></i> Linux</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/06/11/全国计算机信息安全技术/" rel="next" title="全国计算机信息安全技术">
                <i class="fa fa-chevron-left"></i> 全国计算机信息安全技术
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/06/12/Linux学习/" rel="prev" title="Linux学习">
                Linux学习 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        
<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80MzA4MS8xOTYyNw"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>
    

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/4.gif" alt="smallpotato">
            
              <p class="site-author-name" itemprop="name">smallpotato</p>
              <p class="site-description motion-element" itemprop="description">There is no end to learning</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/smallpotatody" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          
          
        
          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.shiyanlou.com/" title="实验楼" target="_blank">实验楼</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-文件管理"><span class="nav-number">1.</span> <span class="nav-text">1. 文件管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ls命令-–-显示指定工作目录下的内容及属性信息"><span class="nav-number">1.1.</span> <span class="nav-text">ls命令 – 显示指定工作目录下的内容及属性信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pwd命令-–-显示当前路径"><span class="nav-number">1.2.</span> <span class="nav-text">pwd命令 – 显示当前路径</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mkdir命令-–-创建目录"><span class="nav-number">1.3.</span> <span class="nav-text">mkdir命令 – 创建目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cp命令-–-复制文件或目录"><span class="nav-number">1.4.</span> <span class="nav-text">cp命令 – 复制文件或目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mv命令-–-移动或改名文件"><span class="nav-number">1.5.</span> <span class="nav-text">mv命令 – 移动或改名文件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-文档编辑"><span class="nav-number">2.</span> <span class="nav-text">2. 文档编辑</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#cat命令-–-在终端设备上显示文件内容"><span class="nav-number">2.1.</span> <span class="nav-text">cat命令 – 在终端设备上显示文件内容</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#echo命令-–-输出字符串或提取Shell变量的值"><span class="nav-number">2.2.</span> <span class="nav-text">echo命令 – 输出字符串或提取Shell变量的值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rmdir命令-–-删除空目录"><span class="nav-number">2.3.</span> <span class="nav-text">rmdir命令 – 删除空目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tail命令-–-查看文件尾部内容"><span class="nav-number">2.4.</span> <span class="nav-text">tail命令 – 查看文件尾部内容</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#expr命令-–-命令行计数器"><span class="nav-number">2.5.</span> <span class="nav-text">expr命令 – 命令行计数器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-系统管理"><span class="nav-number">3.</span> <span class="nav-text">3. 系统管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#uname命令-–-显示系统信息"><span class="nav-number">3.1.</span> <span class="nav-text">uname命令 – 显示系统信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rsh命令-–-远端登入的shell"><span class="nav-number">3.2.</span> <span class="nav-text">rsh命令 – 远端登入的shell</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#yes命令-–-重复打印字符串"><span class="nav-number">3.3.</span> <span class="nav-text">yes命令 – 重复打印字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#useradd命令-–-创建用户"><span class="nav-number">3.4.</span> <span class="nav-text">useradd命令 – 创建用户</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#who命令-–-打印当前登录用户"><span class="nav-number">3.5.</span> <span class="nav-text">who命令 – 打印当前登录用户</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-磁盘管理"><span class="nav-number">4.</span> <span class="nav-text">4. 磁盘管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#df命令-–-显示磁盘空间使用情况"><span class="nav-number">4.1.</span> <span class="nav-text">df命令 – 显示磁盘空间使用情况</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lsblk命令-–-查看系统的磁盘"><span class="nav-number">4.2.</span> <span class="nav-text">lsblk命令 – 查看系统的磁盘</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#fdisk命令-–-磁盘分区"><span class="nav-number">4.3.</span> <span class="nav-text">fdisk命令 – 磁盘分区</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#quota命令-–-显示磁盘已使用的空间与限制"><span class="nav-number">4.4.</span> <span class="nav-text">quota命令 – 显示磁盘已使用的空间与限制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#arpd命令-–-收集arp信息"><span class="nav-number">4.5.</span> <span class="nav-text">arpd命令 – 收集arp信息</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-文件传输"><span class="nav-number">5.</span> <span class="nav-text">5. 文件传输</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#curl命令-–-文件传输工具"><span class="nav-number">5.1.</span> <span class="nav-text">curl命令 – 文件传输工具</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ftpwho命令-–-显示ftp会话信息"><span class="nav-number">5.2.</span> <span class="nav-text">ftpwho命令 – 显示ftp会话信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#fsck命令-–-检查并修复Linux文件系统"><span class="nav-number">5.3.</span> <span class="nav-text">fsck命令 – 检查并修复Linux文件系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ftpshut命令-–-指定时间关闭FTP服务器"><span class="nav-number">5.4.</span> <span class="nav-text">ftpshut命令 – 指定时间关闭FTP服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lprm命令-–-删除打印队列中的打印任务"><span class="nav-number">5.5.</span> <span class="nav-text">lprm命令 – 删除打印队列中的打印任务</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-网络通讯"><span class="nav-number">6.</span> <span class="nav-text">6. 网络通讯</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ping命令-–-测试主机间网络连通性"><span class="nav-number">6.1.</span> <span class="nav-text">ping命令 – 测试主机间网络连通性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#netstat命令-–-显示网络状态"><span class="nav-number">6.2.</span> <span class="nav-text">netstat命令 – 显示网络状态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ifconfig命令-–-显示或设置网络设备"><span class="nav-number">6.3.</span> <span class="nav-text">ifconfig命令 – 显示或设置网络设备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ss命令-–-显示活动套接字信息"><span class="nav-number">6.4.</span> <span class="nav-text">ss命令 – 显示活动套接字信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ipcalc命令-–-简单的IP地址计算器"><span class="nav-number">6.5.</span> <span class="nav-text">ipcalc命令 – 简单的IP地址计算器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7-设备管理"><span class="nav-number">7.</span> <span class="nav-text">7. 设备管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#mount命令-–-文件系统挂载"><span class="nav-number">7.1.</span> <span class="nav-text">mount命令 – 文件系统挂载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#setleds命令-–-设定键盘上方三个-LED-的状态"><span class="nav-number">7.2.</span> <span class="nav-text">setleds命令 – 设定键盘上方三个 LED 的状态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#loadkeys命令-–-改变linux键盘驱动程序"><span class="nav-number">7.3.</span> <span class="nav-text">loadkeys命令 – 改变linux键盘驱动程序</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8-备份压缩"><span class="nav-number">8.</span> <span class="nav-text">8. 备份压缩</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#gzip命令-–-压缩和解压文件"><span class="nav-number">8.1.</span> <span class="nav-text">gzip命令 – 压缩和解压文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#unzip命令-–-解压缩zip文件"><span class="nav-number">8.2.</span> <span class="nav-text">unzip命令 – 解压缩zip文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#zip命令-–-压缩文件"><span class="nav-number">8.3.</span> <span class="nav-text">zip命令 – 压缩文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bzip2命令-–-bz2文件的压缩程序"><span class="nav-number">8.4.</span> <span class="nav-text">bzip2命令 – bz2文件的压缩程序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#zipinfo命令-–-查看压缩文件信息"><span class="nav-number">8.5.</span> <span class="nav-text">zipinfo命令 – 查看压缩文件信息</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#9-其他命令"><span class="nav-number">9.</span> <span class="nav-text">9. 其他命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#bc命令-–-浮点运算"><span class="nav-number">9.1.</span> <span class="nav-text">bc命令 – 浮点运算</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rmmod命令-–-删除模块"><span class="nav-number">9.2.</span> <span class="nav-text">rmmod命令 – 删除模块</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


  
           <div>
              <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="210" height="110" src="//music.163.com/outchain/player?type=2&id=446945324&auto=0&height=32"></iframe>
           </div>
           
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">smallpotato</span>
  
  
  
  
</div>


<!--
  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>

-->

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共67.8k字</span>
</div>
        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      本次访问人数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      本次访问总量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
