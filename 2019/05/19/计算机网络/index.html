<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">


  <script>
  (function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
  daovoice('init', {
      app_id: "8f2a50d5"
    });
  daovoice('update');
  </script>









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">




  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">






  <meta name="keywords" content="study,">





  <link rel="alternate" href="/atom.xml" title="小土豆" type="application/atom+xml">






<meta name="description" content="第一章1.1 计算机网络在信息时代中的作用 21世纪的一些重要特征就是数字化、网络化和信息化，它是一个以网络为核心的信息时代。 网络是指“三网”，即电信网络、有线电视网络和计算机网络。  计算机网络向用户提供最重要的功能：  连通性——计算机网络使上网用户之间都可以交换信息。 共享——资源共享。  1.2 因特网概述 网络(network)由若干结点(node)和连接这些结点的链路(link)组成">
<meta name="keywords" content="study">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络">
<meta property="og:url" content="https://smallpotatody.github.io/2019/05/19/计算机网络/index.html">
<meta property="og:site_name" content="小土豆">
<meta property="og:description" content="第一章1.1 计算机网络在信息时代中的作用 21世纪的一些重要特征就是数字化、网络化和信息化，它是一个以网络为核心的信息时代。 网络是指“三网”，即电信网络、有线电视网络和计算机网络。  计算机网络向用户提供最重要的功能：  连通性——计算机网络使上网用户之间都可以交换信息。 共享——资源共享。  1.2 因特网概述 网络(network)由若干结点(node)和连接这些结点的链路(link)组成">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/1.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/2.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/3.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/4.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/6.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/5.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/7.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/8.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/9.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/10.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/11.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/12.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/13.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/14.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/15.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/16.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/17.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/18.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/19.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/20.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/21.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/22.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/23.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/24.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/25.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/26.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/27.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/28.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/29.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/31.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/32.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/30.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/33.png">
<meta property="og:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/34.png">
<meta property="og:updated_time" content="2019-05-19T14:23:30.729Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="计算机网络">
<meta name="twitter:description" content="第一章1.1 计算机网络在信息时代中的作用 21世纪的一些重要特征就是数字化、网络化和信息化，它是一个以网络为核心的信息时代。 网络是指“三网”，即电信网络、有线电视网络和计算机网络。  计算机网络向用户提供最重要的功能：  连通性——计算机网络使上网用户之间都可以交换信息。 共享——资源共享。  1.2 因特网概述 网络(network)由若干结点(node)和连接这些结点的链路(link)组成">
<meta name="twitter:image" content="https://smallpotatody.github.io/2019/05/19/计算机网络/1.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://smallpotatody.github.io/2019/05/19/计算机网络/">





  <title>计算机网络 | 小土豆</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
  <a href="https://github.com/smallpotatody" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#FD6C6C; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">小土豆</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">-博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://smallpotatody.github.io/2019/05/19/计算机网络/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="smallpotato">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/4.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小土豆">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">计算机网络</h1>
        

        <div class="post-meta">
			

          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于&#58;</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-19T22:12:25+08:00">
                2019-05-19
              </time>
            

            

            
          </span>
		  
		  

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
                               
                <span class="post-meta-item-text">分类于&#58;</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/学习/" itemprop="url" rel="index">
                    <span itemprop="name">学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv">本文总阅读量
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>次
            </span>
          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  9.5k字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  33分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h1><h2 id="1-1-计算机网络在信息时代中的作用"><a href="#1-1-计算机网络在信息时代中的作用" class="headerlink" title="1.1 计算机网络在信息时代中的作用"></a>1.1 计算机网络在信息时代中的作用</h2><ul>
<li>21世纪的一些重要特征就是数字化、网络化和信息化，它是一个以网络为核心的信息时代。</li>
<li>网络是指“三网”，即电信网络、有线电视网络和计算机网络。</li>
</ul>
<p><strong>计算机网络向用户提供最重要的功能：</strong></p>
<ul>
<li>连通性——计算机网络使上网用户之间都可以交换信息。</li>
<li>共享——资源共享。</li>
</ul>
<h2 id="1-2-因特网概述"><a href="#1-2-因特网概述" class="headerlink" title="1.2 因特网概述"></a>1.2 因特网概述</h2><ul>
<li><p>网络(network)由若干结点(node)和连接这些结点的链路(link)组成。 </p>
<p>结点——用于计算机网络中，表示计算机或路由器。</p>
<p>链路——连接的线路。</p>
</li>
<li><p>互联网是“网络的网络”(network of networks)。</p>
</li>
<li><p>连接在因特网上的计算机都称为主机(host)。</p>
<p>internet——互连网（互联网）</p>
<p>Internet——当前全球最大的、开放的、由众多网络相互连接而成的特定计算机网络，使用TCP/IP协议族作为通信规则。前身是美国的阿帕网APPRANET</p>
</li>
</ul>
<p><em>n起源于美国的因特网现已发展成为世界上最大的国际性计算机互联网</em></p>
<p><img src="/2019/05/19/计算机网络/1.png" alt></p>
<p><strong>因特网发展三个阶段</strong></p>
<ol>
<li>第一阶段——从单个网络ARPANET向互联网发展</li>
<li>第二阶段——逐步建成了三级结构的因特网</li>
<li>第三阶段——逐渐形成了多层次ISP结构的因特网</li>
</ol>
<p><strong>计算机网络、互联网、互连网</strong></p>
<ul>
<li>计算机网络：一些相互连接的计算机的集合。</li>
<li>互连网、互联网：一些相互连接的计算机网络的集合（网络的网络，互连网(互联网)由许多网络通过路由器互连而成）。</li>
</ul>
<h2 id="1-3-因特网的组成"><a href="#1-3-因特网的组成" class="headerlink" title="1.3  因特网的组成"></a>1.3  因特网的组成</h2><ul>
<li>边缘部分——由所有连接在因特网上的主机组成。这部分是用户直接使用的，用来进行通信（传送数据、音频或视频）和资源共享。</li>
<li>核心部分——由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）。</li>
</ul>
<p><strong>两种通信方式</strong></p>
<ol>
<li><p>客户服务器方式（C/S 方式——Client/Server）</p>
<p>客户(client)和服务器(server)都是指通信中所涉及的两个应用进程。客户是服务的请求方，服务器是服务的提供方。</p>
</li>
<li><p>对等方式（P2P 方式——Peer to Peer）</p>
</li>
</ol>
<p><strong>因特网核心部分</strong></p>
<ul>
<li>在网络核心部分起特殊作用的是路由器(router)。</li>
<li>路由器是实现分组交换(packet switching)的关键构件，其任务是转发收到的分组，这是网络核心部分最重要的功能。 </li>
</ul>
<p><strong>电路交换</strong></p>
<p>从通信资源的分配角度来看，“交换”就是按照某种方式动态地分配传输线路的资源。 </p>
<p>电路交换必定是面向连接的。 且利用率很低。</p>
<p>电路交换的三个阶段：</p>
<ul>
<li>建立连接</li>
<li>通信</li>
<li>释放连接</li>
</ul>
<p><strong>分组交换</strong>（存储转发）</p>
<p>报文：要发送的整块数据</p>
<p>分组：先将报文划分成较短的、固定长度的数据段，每一个数据段前面添加上首部构成分组或包。</p>
<p><img src="/2019/05/19/计算机网络/2.png" alt></p>
<p>每一个分组的首部都含有地址等控制信息。分组交换网中的结点交换机根据收到的分组的首部中的地址信息，把分组转发到下一个结点交换机。用这样的存储转发方式，最后分组就能到达最终目的地。</p>
<p>因特网的核心部分是由许多网络和把它们互连起来的路由器组成，而主机处在因特网的边缘部分。在因特网核心部分的路由器之间一般都用高速链路相连接，而在网络边缘的主机接入到核心部分则通常以相对较低速率的链路相连接。主机的用途是为用户进行信息处理的，并且可以和其他主机通过网络交换信息。路由器的用途则是用来转发分组的，即进行分组交换的。 </p>
<p><strong>分组交换优点</strong></p>
<ol>
<li>高效</li>
<li>灵活</li>
<li>迅速</li>
<li>可靠</li>
</ol>
<p>分组在各结点存储转发时需要排队，这就会造成一定的时延。 分组必须携带的首部（里面有必不可少的控制信息）也造成了一定的开销。无法确保通信时端到端所需的带宽，在通信量较大时可能造成网络拥塞。</p>
<p><img src="/2019/05/19/计算机网络/3.png" alt></p>
<h2 id="1-4计算机网络的的定义与分类"><a href="#1-4计算机网络的的定义与分类" class="headerlink" title="1.4计算机网络的的定义与分类"></a>1.4计算机网络的的定义与分类</h2><p><strong>最简单定义</strong>：计算机网络是一些互相连接、自治的计算机的集合。</p>
<p><strong>分类</strong>：</p>
<p>从网络的作用范围进行分类</p>
<ul>
<li>广域网 WAN (Wide Area Network)</li>
<li>局域网 LAN (Local Area Network) </li>
<li>城域网 MAN (Metropolitan Area Network)</li>
<li>个人区域网 PAN (Personal Area Network) </li>
</ul>
<p>从网络的使用者分类</p>
<ul>
<li>公用网（public network）</li>
<li>专用网（private network）</li>
</ul>
<h2 id="1-5计算机网络的主要性能指标"><a href="#1-5计算机网络的主要性能指标" class="headerlink" title="1.5计算机网络的主要性能指标"></a>1.5计算机网络的主要性能指标</h2><ol>
<li><p>速率</p>
<p>速率即数据率(data rate)或比特率(bit rate)是计算机网络中最重要的一个性能指标。速率的单位是b/s，或kb/s,Mb/s, Gb/s 等。</p>
</li>
<li><p>带宽</p>
<p>“带宽”(bandwidth)本来是指信号具有的频带宽度，单位是赫（或千赫、兆赫、吉赫等）。</p>
<p>现在“带宽”是数字信道所能传送的“最高数据率”的同义语，单位是“比特每秒”，或 b/s (bit/s)。</p>
</li>
<li><p>吞吐量</p>
<p>吞吐量/吞吐率(throughput)表示在单位时间内通过某个网络（或信道、接口）的数据量。</p>
<p>吞吐量更经常地用于对现实世界中的网络的一种测量，以便知道实际上到底有多少数据量能够通过网络。</p>
<p>受网络的带宽或网络的额定速率的限制。 </p>
</li>
<li><p>时延</p>
<p><img src="/2019/05/19/计算机网络/4.png" alt></p>
</li>
</ol>
<p><strong>对于高速网络链路，我们提高的仅仅是数据的发送速率而不是比特在链路上的传播速率。提高链路带宽减小了数据的发送时延.</strong> </p>
<ol start="5">
<li><p>丢包率</p>
<p>丢包率即分组丢失率，是指在一定的时间范围内，分组在传输过程中丢失的分组数量与总的分组数量的比率。</p>
<p>具体：接口丢包率、结点丢包率、链路丢包率、路径丢包率、网络丢包率等。</p>
<p>在现代计算机网络中网络拥塞是丢包的主要原因。因此，丢包率往往反映了网络的拥塞情况。</p>
</li>
<li><p>利用率</p>
<p><strong>信道利用率</strong>指出某信道有百分之几的时间是被利用的（有数据通过）。完全空闲的信道的利用率是零。</p>
<p><strong>网络利用率</strong>则是全网络的信道利用率的加权平均值。</p>
<p>信道利用率并非越高越好。 </p>
<p>若令 <em>D</em>0 表示网络空闲时的时延，<em>D</em><br>表示网络当前的时延，则在适当的假定条件下，可以用下面的简单公式表示<em>D</em>和 <em>D</em>0之间的关系： </p>
</li>
</ol>
<p><img src="/2019/05/19/计算机网络/6.png" alt></p>
<p><img src="/2019/05/19/计算机网络/5.png" alt></p>
<h2 id="1-6计算机网络体系结构"><a href="#1-6计算机网络体系结构" class="headerlink" title="1.6计算机网络体系结构"></a>1.6计算机网络体系结构</h2><p>网络协议(network protocol)，简称为协议，是为进行网络中的数据交换而建立的规则、标准或约定。 </p>
<p>三要素：语法，即数据与控制信息的结构或格式。</p>
<p>语义，即各个控制信息的具体含义，包括需要发出何种控制信息，完成何种动作以及做出何种响应。</p>
<p>同步（或时序），即事件实现顺序和时间的详细说明，包括数据应该在何时发送出去以及数据应该以什么速率发送。</p>
<p>计算机网络的体系结构(architecture)是计算机网络的各层及其协议的集合。l体系结构是抽象的，而实现则是具体的，是真正在运行的计算机硬件和软件。   </p>
<p><img src="/2019/05/19/计算机网络/7.png" alt></p>
<p><strong>物理层</strong>: 如何在物理媒体上传送比特流</p>
<p><strong>数据链路层:</strong> 相邻节点间分组(帧)的传输</p>
<p>PPP, 以太网</p>
<p><strong>网络层:</strong> 如何将分组从源主机通过中间路由器传送到目的主机</p>
<p>IP, 选路协议</p>
<p><strong>运输层:</strong> 提供不同主机上应用程序间的数据传输服务</p>
<p>TCP, UDP</p>
<p><strong>应用层:</strong>如何通过应用进程间的交互来完成特定网络应用。</p>
<p>FTP, SMTP, STTP</p>
<p><img src="/2019/05/19/计算机网络/8.png" alt></p>
<p>实体(entity) 表示任何可发送或接收信息的硬件或软件进程。 </p>
<p>协议是控制两个对等实体进行通信的规则的集合。 </p>
<p>在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。</p>
<p>要实现本层协议，还需要使用下层所提供的服务。 </p>
<p>本层的服务用户只能看见服务而无法看见下面的协议。</p>
<p>下面的协议对上面的服务用户是透明的。 </p>
<p>协议是“水平的”，即协议是控制对等实体之间通信的规则。</p>
<p>服务是“垂直的”，即服务是由下层向上层通过层间接口提供的。</p>
<p><img src="/2019/05/19/计算机网络/9.png" alt></p>
<h2 id="1-7计算机网络在我国发展"><a href="#1-7计算机网络在我国发展" class="headerlink" title="1.7计算机网络在我国发展"></a>1.7计算机网络在我国发展</h2><p>1994年4月20日我国用64kbit/s专线正式连入因特网。</p>
<h2 id="1-8两个重要的新兴网络技术"><a href="#1-8两个重要的新兴网络技术" class="headerlink" title="1.8两个重要的新兴网络技术"></a>1.8两个重要的新兴网络技术</h2><p>云计算</p>
<ul>
<li>基础设施即服务</li>
<li>平台即服务</li>
<li>软件即服务</li>
</ul>
<p>物联网</p>
<ul>
<li>对象识别</li>
<li>环境监控和对象跟踪</li>
<li>对象的自能控制</li>
</ul>
<h1 id="第二章"><a href="#第二章" class="headerlink" title="第二章"></a>第二章</h1><h2 id="2-1物理层的基本概念"><a href="#2-1物理层的基本概念" class="headerlink" title="2.1物理层的基本概念"></a>2.1物理层的基本概念</h2><p>物理层协议的主要任务就是确定与传输媒体的接口的一些特性</p>
<ul>
<li>机械特性</li>
<li>电器特性</li>
<li>功能特性</li>
<li>规程特性</li>
</ul>
<h2 id="2-2数据通信的基础知识"><a href="#2-2数据通信的基础知识" class="headerlink" title="2.2数据通信的基础知识"></a>2.2数据通信的基础知识</h2><p><strong>数据通信系统：</strong></p>
<p>源系统：源点、发送器</p>
<p>传输系统</p>
<p>目的系统：接收器、终点</p>
<p><img src="/2019/05/19/计算机网络/10.png" alt></p>
<p>通信的目的是传送消息。数据是信息的实体。信号是数据的电气或电磁表现。</p>
<p>编码：将数字数据转换成数字信号的过程。</p>
<p><img src="/2019/05/19/计算机网络/11.png" alt></p>
<p>调制：将数字数据转换成模拟信号的过程。</p>
<p><img src="/2019/05/19/计算机网络/12.png" alt></p>
<p><strong>提高数据传输速率的途径</strong></p>
<p>要使用更好的传输媒体，使用先进的编码和调制技术，但不管采用好的传输媒体和怎样先进的调制技术，数据传输速率总是受限的，不可能任意地提高，否则就会出现较多的差错。</p>
<p><strong>传输方式</strong></p>
<p><img src="/2019/05/19/计算机网络/13.png" alt></p>
<h2 id="2-3物理层下面的传输媒体"><a href="#2-3物理层下面的传输媒体" class="headerlink" title="2.3物理层下面的传输媒体"></a>2.3物理层下面的传输媒体</h2><p><strong>导引型传输媒体</strong></p>
<ol>
<li><p>双绞线</p>
<p>屏蔽双绞线 STP(Shielded Twisted Pair)</p>
<p>无屏蔽双绞线 UTP (Unshielded Twisted Pair) </p>
</li>
<li><p>同轴电缆</p>
<p>50 W 同轴电缆</p>
<p>75 W 同轴电缆</p>
</li>
<li><p>光纤</p>
</li>
</ol>
<p><strong>非导引型传输媒体</strong></p>
<p>无线传输所使用的频段很广。</p>
<p>短波通信主要是靠电离层的反射，但短波信道的通信质量较差。</p>
<p>微波在空间主要是直线传播。 </p>
<p>地面微波接力通信</p>
<p>卫星通信  </p>
<h2 id="2-4信道复用技术"><a href="#2-4信道复用技术" class="headerlink" title="2.4信道复用技术"></a>2.4信道复用技术</h2><p><strong>复用</strong>：通过一条物理线路同时传输多路用户的信号</p>
<p>频分复用：所有用户在同样的时间占用不同的带宽资源。</p>
<p>时分复用：所有用户在不同的时间占用同样的频带宽度</p>
<p>统计时分复用：</p>
<p><img src="/2019/05/19/计算机网络/14.png" alt></p>
<h2 id="2-5数字传输系统"><a href="#2-5数字传输系统" class="headerlink" title="2.5数字传输系统"></a>2.5数字传输系统</h2><p>将模拟电话信号转换为数字信号目前采用的都是脉冲编码调制PCM (Pulse Code Modulation)技术，将一路模拟电话信号转换为64 kbit/s的PCM数字脉冲信号。</p>
<p>为了充分利用高速传输线路的带宽，通常将多路PCM信号用TDM方法汇集成时分复用帧，按某种固定的复用结构进行长途传输。</p>
<p>两个互不兼容的PCM复用速率标准：即北美体制和欧洲体制</p>
<p>早期的数字传输系统存在许多缺点。主要由<strong>速率标准不统一和不是同步传输</strong>。</p>
<p>传统SDH/SONET传输网络由光传输系统和交换结点的电子设备组成。</p>
<p>全光网AON (All Optical Network) 用光网络结点代替原来交换结点的电子设备，组成以端到端光通道为基础的全光传输网，避免因光/电转换所带来的带宽瓶颈，而路由器等电信号处理设备在边缘网络连接用户终端设备。</p>
<h2 id="2-6互连网接入技术"><a href="#2-6互连网接入技术" class="headerlink" title="2.6互连网接入技术"></a>2.6互连网接入技术</h2><p>接入：将端系统连接到边缘路由器。接入技术解决的就是最终用户接入本地ISP“最后一公里”的问题。通常，人们将端系统连接到ISP边缘路由器的物理链路及相关设备的集合称为接入网AN(access<br>network)。</p>
<ul>
<li><p>通过拨号调制解调器接入（非带宽接入）</p>
<p>–允许最高56Kbps接入速率(通常会更低)</p>
<p>–不能同时上网和打电话</p>
<p>–不提供持续连接</p>
</li>
<li><p>ADSL接入</p>
<p>上行和下行带宽做成不对称的。</p>
<p>上行指从用户到 ISP，而下行指从 ISP 到用户。</p>
<p>ADSL 在用户线（铜线）的两端各安装一个 ADSL 调制解调器。</p>
<p>我国目前采用的方案是离散多音调 <strong>DMT</strong> (Discrete Multi-Tone)调制技术。这里的“多音调”就是“多载波”或“多子信道”的意思。</p>
</li>
<li><p>光纤接入</p>
</li>
<li><p>以太网接入</p>
</li>
<li><p>无线接入</p>
</li>
</ul>
<h1 id="第三章"><a href="#第三章" class="headerlink" title="第三章"></a>第三章</h1><h2 id="3-1使用点对点信道的数据链路层"><a href="#3-1使用点对点信道的数据链路层" class="headerlink" title="3.1使用点对点信道的数据链路层"></a>3.1使用点对点信道的数据链路层</h2><p><strong>信道类型：</strong></p>
<ul>
<li>点对点信道：这种信道使用一对一点对点通信方式。</li>
<li>广播信道：这种信道使用一对多的广播通信方式，因此过程比较复杂。广播信道上连接的主机很多，因此必须使用专用的共享信道协议来协调这些主机的数据发送。</li>
</ul>
<p>链路(link)是一条无源的点到点的物理线路段，中间没有任何其他的交换结点。</p>
<p>数据链路(data link) 除了物理线路外，还必须有通信协议来控制这些数据的传输。若把实现这些协议的硬件和软件加到链路上，就构成了数据链路。</p>
<p><strong>封装成帧</strong></p>
<p>封装成帧(framing)就是在一段数据的前后分别添加首部和尾部，然后就构成了一个帧。确定帧的界限。首部和尾部的一个重要作用就是进行帧定界。  </p>
<p><strong>透明传输</strong></p>
<p>字节填充(byte stuffing)或字符填充(character stuffing)——接收端的数据链路层在将数据送往网络层之前删除插入的转义字符。如果转义字符也出现数据当中，那么应在转义字符前面插入一个转义字符。当接收端收到连续的两个转义字符时，就删除其中前面的一个。</p>
<p><img src="/2019/05/19/计算机网络/15.png" alt>**</p>
<p>为了保证数据传输的可靠性，在计算机网络传输数据时，必须采用各种差错检测措施。 </p>
<p><img src="/2019/05/19/计算机网络/16.png" alt></p>
<p>在数据后面添加上的冗余码称为帧检验序列 FCS (Frame Check Sequence)。</p>
<p><strong>循环冗余检验的原理</strong></p>
<p>循环冗余检验 CRC 和帧检验序列 FCS并不等同。CRC 是一种常用的检错方法，而 FCS 是添加在数据后面的冗余码。FCS 可以用CRC 这种方法得出，但 CRC 并非用来获得 FCS 的唯一方法。 仅用循环冗余检验CRC差错检出技术只能做到无差错接受。</p>
<p><strong>可靠传输</strong></p>
<p>要做到“可靠传输”就必须用到确认和重传机制。<img src="/2019/05/19/计算机网络/17.png" alt></p>
<p><strong>停止等待协议</strong></p>
<p><img src="/2019/05/19/计算机网络/18.png" alt></p>
<p>使用上述的确认和重传机制，我们就可以在不可靠的传输网络上实现可靠的通信。这种可靠传输协议常称为自动重传请求ARQ(Automatic Repeat reQuest).ARQ 表明重传的请求是自动进行的。接收方不需要请求发送方重传某个出错的分组 。 </p>
<p>在发送完一个帧后，必须暂时保留已发送的帧的副本。数据帧和确认帧都必须进行编号。只要超过了一段时间还没有收到确认，就认为已发送的帧出错或丢失了，因而重传已发送过的帧。这就叫做超时重传。超时计时器的重传时间应当比数据在分组传输的平均往返时间更长一些。 </p>
<p>停止等待协议不适合发送时延小于往返时延的情况。优点是简单，缺点是信道利用率低。</p>
<p><strong>流水线传输</strong></p>
<p>发送方可连续发送多个分组，不必每发完一个分组就停顿下来等待对方的确认。由于信道上一直有数据不间断地传送，这种传输方式可获得很高的信道利用率。</p>
<h2 id="3-2点对点协议PPP"><a href="#3-2点对点协议PPP" class="headerlink" title="3.2点对点协议PPP"></a>3.2点对点协议PPP</h2><p>特点：</p>
<ul>
<li>简单</li>
<li>封装成帧</li>
<li>透明性</li>
<li>多种网络层协议</li>
<li>多种类型链路</li>
<li>差错检测</li>
<li><p>检测连接状态</p>
<p><strong>PPP协议组成</strong></p>
</li>
</ul>
<ol>
<li>一个将IP数据包封装到串行链路的方法。</li>
<li>链路控制协议LCP</li>
<li>网络控制协议NCP</li>
</ol>
<p><strong>PPP协议的帧格式</strong></p>
<p><img src="/2019/05/19/计算机网络/19.png" alt></p>
<p><strong>透明传输问题</strong></p>
<p>当 PPP 用在同步传输链路时，协议规定采用硬件来完成比特填充（和 HDLC 的做法一样）。 当 PPP 用在异步传输时，就使用一种特殊的字符填充法。</p>
<p><strong>零比特填充</strong></p>
<p>在发送端，只要发现有 5 个连续 1，则立即填入一个 0。接收端对帧中的比特流进行扫描。每当发现5 个连续1时，就把这 5 个连续 1 后的一个 0 删除，</p>
<h2 id="3-3使用广播信道的数据链路层"><a href="#3-3使用广播信道的数据链路层" class="headerlink" title="3.3使用广播信道的数据链路层"></a>3.3使用广播信道的数据链路层</h2><p>由于用广播信道连接的计算机共享同一传输媒体，因此使用广播信道的局域网被称为共享式局域网。虽然交换式局域网在有线领域已完全取代了共享式局域网，但无线局域网仍然使用的是共享媒体技术。</p>
<p><strong>媒体接入控制（MAC）</strong></p>
<ul>
<li>静态划分信道：频分多址、时分多址、码分多址</li>
<li>动态接入控制：<ul>
<li>随机接入</li>
<li>受控接入</li>
</ul>
</li>
</ul>
<p><strong>局域网</strong></p>
<p>网络为一个单位所拥有，且地理范围和站点数目均有限。</p>
<p><strong>局域网的数据链路层的两个子层</strong>：</p>
<ul>
<li>逻辑链路控制 LLC (Logical Link Control)子层。（与传输媒体无关）。</li>
<li>媒体接入控制 MAC (Medium Access Control)子层。</li>
</ul>
<h2 id="3-4共享式以太网"><a href="#3-4共享式以太网" class="headerlink" title="3.4共享式以太网"></a>3.4共享式以太网</h2><p><strong>为了通信的简便以太网采取了两种重要的措施</strong></p>
<p>采用较为灵活的无连接的工作方式，即不必先建立连接就可以直接发送数据。 </p>
<p>以太网对发送的数据帧不进行编号，也不要求对方发回确认。</p>
<p>这样做的理由是局域网信道的质量很好，因信道质量产生差错的概率是很小的。 </p>
<p><strong>以太网提供的服务</strong></p>
<p>以太网的服务是不可靠的交付，即尽最大努力的交付。当目的站收到有差错的数据帧时就丢弃此帧，其他什么也不做。差错的纠正由高层来决定。如果高层发现丢失了一些数据而进行重传，但以太网并不知道这是一个重传的帧，而是当作一个新的数据帧来发送。  </p>
<p><strong>载波监听多点接入/碰撞检测  CSMA/CD</strong> </p>
<p>最先发送数据帧的站，在发送数据帧后至多经过时间 2<em>t</em> （两倍的端到端往返时延）就可知道发送的数据帧是否遭受了碰撞。</p>
<p>以太网的端到端往返时延 2<em>t</em> 称为争用期，或碰撞窗口。</p>
<p>经过争用期这段时间还没有检测到碰撞，才能肯定这次发送不会发生碰撞。   </p>
<p><img src="/2019/05/19/计算机网络/20.png" alt></p>
<p>使用 CSMA/CD 协议的以太网不能进行全双工通信而只能进行双向交替通信（半双工通信）。</p>
<p>每个站在发送数据之后的一小段时间内，存在着遭遇碰撞的可能性。 </p>
<p>当连接很多站点时，以太网的平均吞吐量要比以太网的最高数据率小很多.</p>
<p><strong>以太网的MAC帧格式</strong></p>
<p><img src="/2019/05/19/计算机网络/21.png" alt></p>
<h2 id="3-5网络和以太网交换机"><a href="#3-5网络和以太网交换机" class="headerlink" title="3.5网络和以太网交换机"></a>3.5网络和以太网交换机</h2><p><strong>用集线器扩展以太网</strong></p>
<p>优点：使原来属于不同碰撞域的局域网上的计算机能够进行跨碰撞域的通信。</p>
<p><strong>扩大了局域网覆盖的地理范围。</strong></p>
<p>缺点：碰撞域增大了，但总的吞吐量并未提高。</p>
<p>如果不同的碰撞域使用不同的数据率，那么就不能用集线器将它们互连起来。  </p>
<p>由于争用期的限制，并不能无限扩大地理覆盖范围</p>
<p><strong>在数据链路层扩展以太网</strong></p>
<p>使用网桥。网桥工作在数据链路层，它根据 MAC 帧的目的地址对收到的帧进行转发。网桥具有过滤帧的功能。当网桥收到一个帧时，并不是向所有的接口转发此帧，而是先检查此帧的目的<br>MAC 地址，然后再确定将该帧转发到哪一个接口。</p>
<p><strong>使用网桥优点</strong></p>
<p>过滤通信量</p>
<p>扩大了物理范围</p>
<p>提高了可靠性</p>
<p>可互连不同物理层、不同MAC子层和不同速率的局域网。</p>
<p><strong>使用网桥缺点</strong></p>
<p>存储转发增加了时延。 </p>
<p>在MAC 子层并没有流量控制功能。 </p>
<p>具有不同 MAC 子层的网段桥接在一起时时延更大。</p>
<p>网桥只适合于用户数不太多(不超过几百个)和通信量不太大的局域网，否则有时还会因传播过多的广播信息而产生网络拥塞。这就是所谓的广播风暴。  </p>
<p>集线器在转发帧时，不对传输媒体进行检测。</p>
<p>网桥在转发帧之前必须执行 CSMA/CD 算法。</p>
<p>若在发送过程中出现碰撞，就必须停止发送和进行退避。</p>
<p>透明网桥是一种即插即用设备。</p>
<p><strong>网桥在转发表中登记以下三个信息</strong></p>
<p>在网桥的转发表中写入的信息除了<strong>地址</strong>和<strong>接口</strong>外，还有<strong>帧进入该网桥的时间</strong>。</p>
<p><strong>虚拟局域网</strong></p>
<p>虚拟局域网其实只是局域网给用户提供的一种服务，而不是一种新型局域网！</p>
<p>简化网络管理。</p>
<p>控制广播风暴。</p>
<p>增强网络的安全性。</p>
<h2 id="3-6以太网的演进"><a href="#3-6以太网的演进" class="headerlink" title="3.6以太网的演进"></a>3.6以太网的演进</h2><p>速率达到或超过 100 Mb/s 的以太网称为高速以太网。</p>
<h2 id="3-7无线局域网"><a href="#3-7无线局域网" class="headerlink" title="3.7无线局域网"></a>3.7无线局域网</h2><p><strong>有固定基础设施的无线局域网</strong></p>
<p>一个移动站若要加入到一个基本服务集 BSS，就必须先选择一个接入点 AP，并与此接入点建立关联。</p>
<p><strong>移动站与AP建立关联的方法</strong></p>
<p>被动扫描，即移动站等待接收接入站周期性发出的信标帧(beacon frame)。</p>
<p>主动扫描，即移动站主动发出探测请求帧(probe request frame)，然后等待从 AP 发回的探测响应帧(probe response frame)。</p>
<p><strong>使用CSMA/CA协议</strong></p>
<p>无线局域网不能使用CSMA/CD，而只能使用改进的CSMA协议。改进办法就是把CSMA增加一个碰撞避免功能。</p>
<p>无线局域网不能简单地搬用 CSMA/CD 协议。这里主要有两个原因。</p>
<p>对于无线信道，接收信号强度往往会远远小于发送信号强度。如要在无线局域网的适配器上实现碰撞检测，对硬件的要求非常高。。</p>
<p>即使我们能够实现碰撞检测的功能，并且当我们在发送数据时检测到信道是空闲的，在接收端仍然有可能发生碰撞（隐蔽站问题）。</p>
<p><img src="/2019/05/19/计算机网络/22.png" alt></p>
<h1 id="第四章"><a href="#第四章" class="headerlink" title="第四章"></a>第四章</h1><h2 id="4-1网络层概述"><a href="#4-1网络层概述" class="headerlink" title="4.1网络层概述"></a>4.1网络层概述</h2><p><strong>分组转发和路由选择（转发表）</strong></p>
<p>电信网的成功经验让网络负责可靠交付</p>
<p><strong>虚电路服务</strong></p>
<p>面向连接，建立虚电路，使用可靠传输协议(虚电路是逻辑上的连接)</p>
<p><img src="/2019/05/19/计算机网络/23.png" alt></p>
<p><strong>因特网采用设计思路</strong></p>
<p>网络层向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务。</p>
<p>网络在发送分组时不需要先建立连接。每一个分组（即 IP 数据报）独立发送，与其前后的分组无关（不进行编号）。</p>
<p>网络层不提供服务质量的承诺。即所传送的分组可能出错、丢失、重复和失序（不按序到达终点），当然也不保证分组传送的时限。 </p>
<p><strong>数据报服务</strong></p>
<p><img src="/2019/05/19/计算机网络/24.png" alt></p>
<p><img src="/2019/05/19/计算机网络/25.png" alt></p>
<p><strong>虚电路转发表</strong></p>
<p>每台中间路由器在转发分组时必须用一个新的VC号替代原来的VC号。</p>
<h2 id="4-2网际协议IP"><a href="#4-2网际协议IP" class="headerlink" title="4.2网际协议IP"></a>4.2网际协议IP</h2><p><strong>网际层协议IP</strong></p>
<ul>
<li>地址解析协议ARP</li>
<li>逆地址解析协议RARP</li>
<li>网际控制报文协议ICMP</li>
<li>网际组管理协议IGMP</li>
</ul>
<p><img src="/2019/05/19/计算机网络/26.png" alt></p>
<p><strong>中间设备</strong></p>
<p>物理层：转发器</p>
<p>数据链路层：网桥或桥接器</p>
<p>网络层：路由器</p>
<p>网络层以上：网关</p>
<p><strong>虚拟互连网</strong></p>
<p>所谓虚拟互连网络也就是逻辑互连网络，它的意思就是互连起来的各种物理网络的异构性本来是客观存在的，但是我们利用IP 协议就可以使这些性能各异的网络从用户看起来好像是一个统一的网络。使用虚拟互连网络的好处是：当互联网上的主机进行通信时，就好像在一个网络上通信一样，而看不见互连的各具体的网络异构细节。   </p>
<p><strong>IP地址及编址方式</strong></p>
<p>点分十进制记法：32位二进制代码，每8位插入一个空格，转换成十进制，提高可读性。</p>
<ol>
<li><p>分类编址</p>
<p>IP地址 ::= {&lt;网络号&gt;,&lt;主机号&gt;}      ::=代表“定义为”</p>
<p><img src="/2019/05/19/计算机网络/27.png" alt></p>
<p>IP地址的使用范围</p>
<p>| 网络类别 | 最大网络数          | 第一个可用的网络号 | 最后一个可用的网络号 | 每个网络中最大的主机数 |<br>| ——– | ——————- | —————— | ——————– | ———————- |<br>| A        | 126（2^7-2）        | 1                  | 126                  | 16777214               |<br>| B        | 16383(2^14-1)       | 128.1              | 191.255              | 65534                  |<br>| C        | 2,097,151 (221 - 1) | 192.0.1            | 223.255.255          | 254                    |</p>
</li>
<li><p>划分子网</p>
<p>三级的IP地址</p>
<p>IP地址 ::= {&lt;网络号&gt;, &lt;子网号&gt;, &lt;主机号&gt;}       </p>
</li>
<li><p>无分类编址CIDR</p>
<p>IP地址 ::= {&lt;网络前缀&gt;, &lt;主机号&gt;}           </p>
</li>
</ol>
<p>在分类编址中，给定一个IP地址，就确定了它的网络号和主机号。但在无分类编址中，由于网络前缀是不定长，IP地址本身并不能确定其网络前缀和主机号。</p>
<p>使用子网掩码(subnet mask)可以找出 IP 地址中的网络部分(网络前缀)。</p>
<p>CIDR 还使用“斜线记法” ，它又称为CIDR记法，即在 IP 地址面加上一个斜线“/”，然后写上网络前缀所占的位数。</p>
<p><strong>地址解析协议ARP</strong></p>
<p>IP地址——&gt;ARP——&gt;物理地址</p>
<p>物理地址——&gt;RARP——&gt;IP地址</p>
<p>IP数据报由首部和数据两部分组成，首部前一部分是固定长度，共20字节，是所有IP数据报必须具有的。</p>
<p><strong>IP数据报分片</strong></p>
<p><img src="/2019/05/19/计算机网络/28.png" alt></p>
<h2 id="4-3网际控制报文协议ICMP"><a href="#4-3网际控制报文协议ICMP" class="headerlink" title="4.3网际控制报文协议ICMP"></a>4.3网际控制报文协议ICMP</h2><p>ICMP 不是高层协议，而是 IP 层的协议。</p>
<p>ICMP 报文作为 IP 层数据报的数据，加上数据报的首部，组成 IP 数据报发送出去。  </p>
<p>前四个字节是统一的三个字段：类型、代码、检验和</p>
<p><strong>ICMP报文的种类</strong> </p>
<ul>
<li>差错报告报文</li>
<li>ICMP询问报文</li>
</ul>
<p><strong>PING</strong></p>
<p>PING用来测试两个主机之间的连通性</p>
<p>PING 使用了 ICMP 回送请求与回送回答报文。</p>
<p>PING 是应用层直接使用网络层 ICMP 的例子，它没有通过运输层的 TCP 或UDP。 </p>
<h2 id="4-4因特网的路由选择协议"><a href="#4-4因特网的路由选择协议" class="headerlink" title="4.4因特网的路由选择协议"></a>4.4因特网的路由选择协议</h2><p>静态路由选择策略——即非自适应路由选择，其特点是简单和开销较小，但不能及时适应网络状态的变化。</p>
<p>动态路由选择策略——即自适应路由选择，其特点是能较好地适应网络状态的变化，但实现起来较为复杂，开销也比较大。  </p>
<p>分层次的路由选择协议</p>
<p><strong>自治系统AS</strong></p>
<p>自治系统 AS 的定义：在单一的技术管理下的一组路由器，而这些路由器使用一种AS 内部的路由选择协议和共同的度量以确定分组在该AS 内的路由，同时还使用一种 AS 之间的路由选择协议用以确定分组在AS之间的路由。</p>
<p><strong>因特网两大路由选择协议</strong></p>
<p>内部网关协议IGP</p>
<p>RIP三个要点：</p>
<p>​    仅和相邻路由器交换信息。 </p>
<p>​    交换的信息是当前本路由器所知道的全部信息，即自己的路由表。 </p>
<p>​    按固定的时间间隔交换路由信息，例如，每隔 30 秒。</p>
<p>OSPF三个要点：</p>
<p>​    向本自治系统中所有路由器发送信息，这里使用的方法是洪泛法。</p>
<p>​    发送的信息就是与本路由器相邻的所有路由器的链路状态，但这只是路由器所知道的部分信息。“链路状态”就是说明本路由器都和哪些路由器相邻，以及该链路的“度量”(metric)。 </p>
<p>​    只有当链路状态发生变化时，路由器才用洪泛法向所有路由器发送此信息。  </p>
<p>外部网关协议EGP</p>
<p><strong>划分区域</strong></p>
<p>划分区域的好处就是将利用洪泛法交换链路状态信息的范围局限于每一个区域而不是整个的自治系统，这就减少了整个网络上的通信量。</p>
<h2 id="4-5路由器的工作原理"><a href="#4-5路由器的工作原理" class="headerlink" title="4.5路由器的工作原理"></a>4.5路由器的工作原理</h2><p><strong>转发和路由选择的区别</strong></p>
<p>“转发”(forwarding)就是路由器根据转发表将用户的 IP 数据报从合适的端口转发出去。</p>
<p>“路由选择”(routing)则是按照分布式算法，根据从各相邻路由器得到的关于网络拓扑的变化情况，动态地改变所选择的路由。</p>
<p>路由表是根据路由选择算法得出的。而转发表是从路由表得出的。</p>
<p>在讨论路由选择的原理时，往往不去区分转发表和路由表的区别。</p>
<p>由输入端口、变换结构、输出端口</p>
<p><strong>交换机与路由器的比较</strong></p>
<p>交换机的优点是即插即用，并具有相对高的分组过滤和转发速度。缺点是：大型交换机网络要求交换机维护大的转发表，主机中维护大的ARP表，并可能产生广播风暴，逻辑拓扑被限制为树。</p>
<p>路由器的优点是能提供更加智能的路由选择，并能隔离广播域。缺点是：路由器不是即插即用的，对每个分组处理时间通常比交换机更长。</p>
<h2 id="4-6VPN与NAT"><a href="#4-6VPN与NAT" class="headerlink" title="4.6VPN与NAT"></a>4.6VPN与NAT</h2><p>用隧道技术实现虚拟专用网</p>
<h2 id="4-7IP多播"><a href="#4-7IP多播" class="headerlink" title="4.7IP多播"></a>4.7IP多播</h2><p><strong>IP多播的一些特点</strong></p>
<p>​    多播使用组地址—— IP 使用 D 类地址支持多播。多播地址只能用于目的地址，而不能用于源地址。  </p>
<p>​    永久组地址——由因特网号码指派管理局 IANA 负责指派。</p>
<p>​    动态的组成员 </p>
<pre><code>利用局域网的硬件多播
</code></pre><p><strong>IP多播需要两种协议</strong></p>
<p>网际组管理协议IGMP</p>
<p>​    IGMP 并非在因特网范围内对所有多播组成员进行管理的协议。</p>
<p>​    IGMP 不知道 IP 多播组包含的成员数，也不知道这些成员都分布在哪些网络上。</p>
<p>​    IGMP 协议是让连接在本地局域网上的多播路由器知道本局域网上是否有主机（严格讲，是主机上的某个进程）参加或退出了某个多播组。 </p>
<p>多播路由器选择协议</p>
<p>​    多播转发必须动态地适应多播组成员的变化（这时网络拓扑并未发生变化）。请注意，单播路由选择通常是在网络拓扑发生变化时才需要更新路由。</p>
<p>​    多播路由器在转发多播数据报时，不能仅仅根据多播数据报中的目的地址，而是还要考虑这个多播数据报从什么地方来和要到什么地方去。 </p>
<p>​    多播数据报可以由没有加入多播组的主机发出，也可以通过没有组成员接入的网络。 </p>
<h2 id="4-9下一代的网际协议IPV6"><a href="#4-9下一代的网际协议IPV6" class="headerlink" title="4.9下一代的网际协议IPV6"></a>4.9下一代的网际协议IPV6</h2><p><strong>IPV6引进的主要变化</strong></p>
<p>IPv6 仍支持无连接的传送所引进的主要变化如下</p>
<p>更大的地址空间。IPv6 将地址从 IPv4 的 32 位 增大到了 128 位。 </p>
<p>扩展的地址层次结构。 </p>
<p>灵活的首部格式。 </p>
<p>改进的选项。 </p>
<p>允许协议继续扩充。 </p>
<p>支持即插即用（即自动配置） </p>
<p>支持资源的预分配。  </p>
<p><strong>IPv6 数据报的目的地址可以是以下三种基本类型地址之一：</strong></p>
<p>1.单播(unicast)     单播就是传统的点对点通信。</p>
<p>2.多播(multicast)   多播是一点对多点的通信。</p>
<p>3.任播(anycast)    这是 IPv6 增加的一种类型。任播的目的站是一组计算机，但数据报在交付时只交付其中的一个，通常是距离最近的一个。 </p>
<p><strong>从IPV4到IPV6的过渡</strong></p>
<p>双协议栈</p>
<p>隧道技术</p>
<h1 id="第五章"><a href="#第五章" class="headerlink" title="第五章"></a>第五章</h1><h2 id="5-1运输层协议概述"><a href="#5-1运输层协议概述" class="headerlink" title="5.1运输层协议概述"></a>5.1运输层协议概述</h2><p>从通信和信息处理的角度看，运输层向它上面的应用层提供通信服务，它属于面向通信部分的最高层，同时也是用户功能中的最低层。</p>
<p><img src="/2019/05/19/计算机网络/29.png" alt></p>
<p><strong>运输层协议和网络层协议的主要区别</strong></p>
<p>IP协议的作用范围是提供主机之间的逻辑通信</p>
<p>TCP（传输控制协议）和UDP（用户数据报协议）协议的作用范围是提供进程之间的逻辑通信</p>
<p><strong>运输层的主要功能</strong></p>
<p>运输层为应用进程之间提供端到端的逻辑通信（但网络层是为主机之间提供逻辑通信）。</p>
<p>运输层还要对收到的报文进行差错检测。</p>
<p>可靠数据传输</p>
<p>流量控制</p>
<p>拥塞控制</p>
<h2 id="5-2用户数据报协议UDP"><a href="#5-2用户数据报协议UDP" class="headerlink" title="5.2用户数据报协议UDP"></a>5.2用户数据报协议UDP</h2><p>UDP 只在 IP 的数据报服务之上增加了很少一点的功能，即端口的功能和差错检测的功能。</p>
<p><strong>UDP 在某些方面有其特殊的优点</strong></p>
<p>发送数据之前不需要建立连接</p>
<p>UDP 的主机不需要维持复杂的连接状态表。</p>
<p>UDP 用户数据报只有 8 个字节的首部开销。</p>
<p>网络出现的拥塞不会使源主机的发送速率降低。这对某些实时应用是很重要的。     </p>
<p><strong>UDP的特点</strong></p>
<p>UDP是无连接的。</p>
<p>UDP使用尽最大努力交付，即不保证可靠交付，同时也不使用拥塞控制，因此主机不需要维持具有许多参数的、复杂的连接状态表。</p>
<p>由于 UDP 没有拥塞控制，因此网络出现的拥塞不会使源主机的发送速率降低。</p>
<p>UDP是面向报文的。</p>
<p>UDP支持一对一、一对多、多对一和多对多的交互通信。</p>
<h2 id="5-3传输控制协议TCP"><a href="#5-3传输控制协议TCP" class="headerlink" title="5.3传输控制协议TCP"></a>5.3传输控制协议TCP</h2><p>TCP的主要特点：</p>
<p>​    TCP 是面向连接的运输层协议。</p>
<p>​    每一条 TCP 连接只能有两个端点(endpoint)，每一条 TCP 连接只能是点对点的（一对一）。 </p>
<p>​    TCP 提供可靠交付的服务。</p>
<p>​    TCP 提供全双工通信。</p>
<p>​    面向字节流。  </p>
<p>发送缓存和接收缓存</p>
<p>TCP 连接是一条虚连接而不是一条真正的物理连接。</p>
<p><strong>一对一通信</strong></p>
<p>TCP 把连接作为最基本的抽象。</p>
<p>每一条 TCP 连接唯一地被通信两端的两个端点所确定。即：</p>
<p><code>TCP 连接 ::= {(IP1: port1), (IP2: port2)}</code></p>
<p><strong>UDP与TCP复用的区别</strong></p>
<p><img src="/2019/05/19/计算机网络/31.png" alt></p>
<p><strong>TCP报文段结构</strong></p>
<p>TCP 报文段分为首部和数据两部分。</p>
<p>TCP 的全部功能都体现在它首部中各字段的作用。</p>
<p>TCP 报文段首部的前 20个 字节是固定的，后面有 4<em>N</em> 字节是根据需要而增加的选项(<em>N</em> 必须是整数)。因此 TCP 首部的最小长度是 20 字节。 </p>
<p><img src="/2019/05/19/计算机网络/32.png" alt></p>
<p><strong>TCP的可靠传输</strong></p>
<p>TCP在IP的不可靠的尽最大努力服务的基础上实现了一种可靠数据传输服务，保证数据无差错、无丢失、按序和无重复的交付。</p>
<p>由于TCP下面的传输数据的互联网的结构非常复杂，因此不能采用最简单的停止等待协议来实现可靠传输。</p>
<p>以字节为单位的滑动窗口</p>
<p><strong>流量控制</strong></p>
<p>•流量控制(flow control)就是让发送方的发送速率不要太快，既要让接收方来得及接收。</p>
<p>•利用滑动窗口机制可以很方便地在 TCP 连接上实现流量控制。 </p>
<p><img src="/2019/05/19/计算机网络/30.png" alt></p>
<p><strong>超时重传时间的选择</strong></p>
<ul>
<li>指数加权</li>
<li><p>karn算法（不采用重传）</p>
<p><code>新的 RTTS = (1 - a) * (旧的 RTTS) + a * (新的 RTT 样本)</code></p>
<p><code>RTO = RTTS + 4 *RTTD</code>                   </p>
</li>
</ul>
<p>新的 RTTD = (1 - b) <em> (旧的RTTD）+b</em>|RTTS - 新的 RTT样本|</p>
<p><strong>快速重传</strong></p>
<p><img src="/2019/05/19/计算机网络/33.png" alt></p>
<h2 id="5-4拥塞控制"><a href="#5-4拥塞控制" class="headerlink" title="5.4拥塞控制"></a>5.4拥塞控制</h2><p>如果网络中的负载(load)，即发送到网络中的分组数量，超过了网络的容量，即网络中能处理的分组数量，那么在网络中就会发生拥塞(congestion)。</p>
<p>所谓拥塞控制(congestion control)就是防止过多的数据注入到网络中，这样可以使网络中的路由器或链路不致过载。</p>
<p><img src="/2019/05/19/计算机网络/34.png" alt></p>
<p><strong>开环控制和闭环控制</strong></p>
<p>开环控制方法就是在设计网络时事先将有关发生拥塞的因素考虑周到，力求网络在工作时不产生拥塞。 </p>
<p>闭环控制是基于反馈环路的概念。</p>

      
    </div>
    
    
    
	

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div></div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.gif" alt="smallpotato 支付宝">
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    
	<div>
		
		
		
	</div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/study/" rel="tag"><i class="fa fa-tag"></i> study</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/05/15/HTML-CSS基础/" rel="next" title="HTML-CSS基础">
                <i class="fa fa-chevron-left"></i> HTML-CSS基础
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        
<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80MzA4MS8xOTYyNw"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>
    

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/4.gif" alt="smallpotato">
            
              <p class="site-author-name" itemprop="name">smallpotato</p>
              <p class="site-description motion-element" itemprop="description">There is no end to learning</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/smallpotatody" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          
          
        
          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.shiyanlou.com/" title="实验楼" target="_blank">实验楼</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#第一章"><span class="nav-number">1.</span> <span class="nav-text">第一章</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-计算机网络在信息时代中的作用"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 计算机网络在信息时代中的作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-因特网概述"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 因特网概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-因特网的组成"><span class="nav-number">1.3.</span> <span class="nav-text">1.3  因特网的组成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4计算机网络的的定义与分类"><span class="nav-number">1.4.</span> <span class="nav-text">1.4计算机网络的的定义与分类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5计算机网络的主要性能指标"><span class="nav-number">1.5.</span> <span class="nav-text">1.5计算机网络的主要性能指标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6计算机网络体系结构"><span class="nav-number">1.6.</span> <span class="nav-text">1.6计算机网络体系结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-7计算机网络在我国发展"><span class="nav-number">1.7.</span> <span class="nav-text">1.7计算机网络在我国发展</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-8两个重要的新兴网络技术"><span class="nav-number">1.8.</span> <span class="nav-text">1.8两个重要的新兴网络技术</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第二章"><span class="nav-number">2.</span> <span class="nav-text">第二章</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1物理层的基本概念"><span class="nav-number">2.1.</span> <span class="nav-text">2.1物理层的基本概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2数据通信的基础知识"><span class="nav-number">2.2.</span> <span class="nav-text">2.2数据通信的基础知识</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3物理层下面的传输媒体"><span class="nav-number">2.3.</span> <span class="nav-text">2.3物理层下面的传输媒体</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4信道复用技术"><span class="nav-number">2.4.</span> <span class="nav-text">2.4信道复用技术</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5数字传输系统"><span class="nav-number">2.5.</span> <span class="nav-text">2.5数字传输系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-6互连网接入技术"><span class="nav-number">2.6.</span> <span class="nav-text">2.6互连网接入技术</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第三章"><span class="nav-number">3.</span> <span class="nav-text">第三章</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1使用点对点信道的数据链路层"><span class="nav-number">3.1.</span> <span class="nav-text">3.1使用点对点信道的数据链路层</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2点对点协议PPP"><span class="nav-number">3.2.</span> <span class="nav-text">3.2点对点协议PPP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3使用广播信道的数据链路层"><span class="nav-number">3.3.</span> <span class="nav-text">3.3使用广播信道的数据链路层</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4共享式以太网"><span class="nav-number">3.4.</span> <span class="nav-text">3.4共享式以太网</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5网络和以太网交换机"><span class="nav-number">3.5.</span> <span class="nav-text">3.5网络和以太网交换机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-6以太网的演进"><span class="nav-number">3.6.</span> <span class="nav-text">3.6以太网的演进</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-7无线局域网"><span class="nav-number">3.7.</span> <span class="nav-text">3.7无线局域网</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第四章"><span class="nav-number">4.</span> <span class="nav-text">第四章</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1网络层概述"><span class="nav-number">4.1.</span> <span class="nav-text">4.1网络层概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2网际协议IP"><span class="nav-number">4.2.</span> <span class="nav-text">4.2网际协议IP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3网际控制报文协议ICMP"><span class="nav-number">4.3.</span> <span class="nav-text">4.3网际控制报文协议ICMP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-4因特网的路由选择协议"><span class="nav-number">4.4.</span> <span class="nav-text">4.4因特网的路由选择协议</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-5路由器的工作原理"><span class="nav-number">4.5.</span> <span class="nav-text">4.5路由器的工作原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-6VPN与NAT"><span class="nav-number">4.6.</span> <span class="nav-text">4.6VPN与NAT</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-7IP多播"><span class="nav-number">4.7.</span> <span class="nav-text">4.7IP多播</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-9下一代的网际协议IPV6"><span class="nav-number">4.8.</span> <span class="nav-text">4.9下一代的网际协议IPV6</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第五章"><span class="nav-number">5.</span> <span class="nav-text">第五章</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1运输层协议概述"><span class="nav-number">5.1.</span> <span class="nav-text">5.1运输层协议概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2用户数据报协议UDP"><span class="nav-number">5.2.</span> <span class="nav-text">5.2用户数据报协议UDP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3传输控制协议TCP"><span class="nav-number">5.3.</span> <span class="nav-text">5.3传输控制协议TCP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-4拥塞控制"><span class="nav-number">5.4.</span> <span class="nav-text">5.4拥塞控制</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


  
           <div>
              <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="210" height="110" src="//music.163.com/outchain/player?type=2&id=446945324&auto=0&height=32"></iframe>
           </div>
           
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">smallpotato</span>
  
  
  
  
</div>


<!--
  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>

-->

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共36.4k字</span>
</div>
        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      本次访问人数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      本次访问总量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
